
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Baukis-Kai project.">
      
      
        <meta name="author" content="Project Team">
      
      
      
        <link rel="prev" href="../20170325/">
      
      
        <link rel="next" href="../20170328/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>20170327 - Baukis-Kai</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2017-03-27" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Baukis-Kai" class="md-header__button md-logo" aria-label="Baukis-Kai" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Baukis-Kai
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              20170327
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/baukis-kai" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    baukis-kai
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/" class="md-tabs__link">
        
  
  
    
  
  UseCases

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/" class="md-tabs__link">
        
  
  
    
  
  Architecture

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/" class="md-tabs__link">
        
  
  
    
  
  Implementation

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E7%94%A8%E8%AA%9E%E9%9B%86/" class="md-tabs__link">
        
  
  
    
  
  Glossary

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../20170110/" class="md-tabs__link">
          
  
  
  Journal

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Baukis-Kai" class="md-nav__button md-logo" aria-label="Baukis-Kai" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Baukis-Kai
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/baukis-kai" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    baukis-kai
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UseCases
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implementation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%94%A8%E8%AA%9E%E9%9B%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Journal
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Journal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170110/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170110
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170111/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170111
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170114/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170114
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170116/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170116
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170117/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170117
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170118/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170118
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170120/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170120
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170121/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170121
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170123/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170123
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170124/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170124
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170126/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170126
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170127/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170127
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170128/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170128
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170130/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170130
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170131/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170131
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170202
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170203
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170204
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170206
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170207/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170207
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170209/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170209
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170210/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170210
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170213/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170213
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170214/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170214
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170216/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170216
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170220/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170220
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170317/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170317
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170318/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170318
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170325/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170325
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    20170327
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    20170327
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#026976f-" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 026976f - 顧客によるメッセージ削除機能の実装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 026976f - 顧客によるメッセージ削除機能の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1ab342f-" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 1ab342f - メッセージ詳細表示機能の実装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 1ab342f - メッセージ詳細表示機能の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#346173e-" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 346173e - 顧客向けメッセージ一覧表示機能の実装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 346173e - 顧客向けメッセージ一覧表示機能の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6d6f908-" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 6d6f908 - タグ付け機能のための排他制御の実装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 6d6f908 - タグ付け機能のための排他制御の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170328/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170328
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250424/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250424
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250510/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250510
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250607/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250607
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250608/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250608
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250609/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250609
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250610/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250610
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250611/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250611
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250612/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250612
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="2017-03-27">作業履歴 2017-03-27<a class="headerlink" href="#2017-03-27" title="Permanent link">&para;</a></h1>
<h2 id="_1">概要<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>2017-03-27の作業内容をまとめています。このジャーナルでは、顧客向けメッセージ管理機能の拡張と改善を行いました。具体的には、顧客がメッセージを削除できる機能の追加、メッセージ詳細表示機能の実装、受信メッセージ一覧表示機能の実装などを行い、顧客とスタッフ間のコミュニケーション機能を強化しました。また、タグ付け機能における排他制御の問題を解決するための専用テーブルも実装しました。</p>
<h2 id="026976f-">コミット: 026976f - 顧客によるメッセージ削除機能の実装<a class="headerlink" href="#026976f-" title="Permanent link">&para;</a></h2>
<h3 id="_2">概要<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>顧客がメッセージを削除できる機能を実装しました。この機能により、顧客は受信したメッセージを必要に応じて削除することができます。実際には物理削除ではなく、<code>discarded</code>フラグを<code>true</code>に設定する論理削除を採用しています。</p>
<h3 id="_3">技術的詳細<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<ul>
<li>顧客のメッセージ一覧画面に削除ボタンを追加</li>
<li><code>destroy</code>アクションを実装し、メッセージの<code>discarded</code>フラグを更新</li>
<li>一覧表示時に<code>discarded: false</code>の条件を追加して削除済みメッセージを非表示に</li>
<li>削除確認ダイアログと成功時のフラッシュメッセージを追加</li>
</ul>
<h3 id="_4">メッセージ<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>問3 #21
</code></pre></div>
<h3 id="_5">変更されたファイル<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/controllers/customer/messages_controller.rb</li>
<li>M app/views/customer/messages/index.html.erb</li>
<li>M config/locales/controllers/ja.yml</li>
<li>M config/locales/views/ja.yml</li>
<li>M config/routes.rb</li>
</ul>
<h3 id="_6">構造変更<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjUzOHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6ODQ5cHg7aGVpZ2h0OjUzOHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDg0OSA1MzgiIHdpZHRoPSI4NDlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzkwMTU7JiMyMzQ1ODsmIzEyMzk1OyYjMTI0MjQ7JiMxMjQyNzsmIzEyNTEzOyYjMTI0ODM7JiMxMjQ3NTsmIzEyNTQwOyYjMTI0NzI7JiMyMTA2NjsmIzM4NTAwOyYjMjcyMzE7JiMzMzAyMTs8L3RpdGxlPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTk1Ljk5OTEiIHg9IjMyOC4xOTU0IiB5PSIyNy45OTUxIj4mIzM5MDE1OyYjMjM0NTg7JiMxMjM5NTsmIzEyNDI0OyYjMTI0Mjc7JiMxMjUxMzsmIzEyNDgzOyYjMTI0NzU7JiMxMjU0MDsmIzEyNDcyOyYjMjEwNjY7JiMzODUwMDsmIzI3MjMxOyYjMzMwMjE7PC90ZXh0PjxnPjx0aXRsZT4uLjwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjMzOS41OTM4IiB3aWR0aD0iOCIgeD0iMTcuOTk5OSIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIyMSIgeDI9IjIxIiB5MT0iMTE4LjU5MzgiIHkyPSI0NTguMTg3NSIvPjwvZz48Zz48dGl0bGU+Li4uLi4uLi4uPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMzM5LjU5MzgiIHdpZHRoPSI4IiB4PSIxNzIuMDAwMSIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIxNzUuMDAwNCIgeDI9IjE3NS4wMDA0IiB5MT0iMTE4LjU5MzgiIHkyPSI0NTguMTg3NSIvPjwvZz48Zz48dGl0bGU+TWVzc2FnZXNDb250cm9sbGVyPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMzM5LjU5MzgiIHdpZHRoPSI4IiB4PSIzNDAuMTY4MSIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIzNDMuMjU1IiB4Mj0iMzQzLjI1NSIgeTE9IjExOC41OTM4IiB5Mj0iNDU4LjE4NzUiLz48L2c+PGc+PHRpdGxlPlN0YWZmTWVzc2FnZTwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjMzOS41OTM4IiB3aWR0aD0iOCIgeD0iNTc3LjM5MjIiIHk9IjExOC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iNTgxLjMwNjIiIHgyPSI1ODEuMzA2MiIgeTE9IjExOC41OTM4IiB5Mj0iNDU4LjE4NzUiLz48L2c+PGc+PHRpdGxlPkRhdGFiYXNlPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMzM5LjU5MzgiIHdpZHRoPSI4IiB4PSI4MDcuOTg5NSIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI4MTEuNTg5MSIgeDI9IjgxMS41ODkxIiB5MT0iMTE4LjU5MzgiIHkyPSI0NTguMTg3NSIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0iQ3VzdG9tZXIiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjUiIHk9IjExNS4yOTIiPiYjMzkwMTU7JiMyMzQ1ODs8L3RleHQ+PGVsbGlwc2UgY3g9IjIxLjk5OTkiIGN5PSI1MC43OTY5IiBmaWxsPSIjRTJFMkYwIiByeD0iOCIgcnk9IjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0yMS45OTk5LDU4Ljc5NjkgTDIxLjk5OTksODUuNzk2OSBNOC45OTk5LDY2Ljc5NjkgTDM0Ljk5OTksNjYuNzk2OSBNMjEuOTk5OSw4NS43OTY5IEw4Ljk5OTksMTAwLjc5NjkgTTIxLjk5OTksODUuNzk2OSBMMzQuOTk5OSwxMDAuNzk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJDdXN0b21lciI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iNSIgeT0iNDcwLjE4MjYiPiYjMzkwMTU7JiMyMzQ1ODs8L3RleHQ+PGVsbGlwc2UgY3g9IjIxLjk5OTkiIGN5PSI0ODEuOTg0NCIgZmlsbD0iI0UyRTJGMCIgcng9IjgiIHJ5PSI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMjEuOTk5OSw0ODkuOTg0NCBMMjEuOTk5OSw1MTYuOTg0NCBNOC45OTk5LDQ5Ny45ODQ0IEwzNC45OTk5LDQ5Ny45ODQ0IE0yMS45OTk5LDUxNi45ODQ0IEw4Ljk5OTksNTMxLjk4NDQgTTIxLjk5OTksNTE2Ljk4NDQgTDM0Ljk5OTksNTMxLjk4NDQiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0iTWVzc2FnZUxpc3QiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS45OTk1IiB4PSIxMTAuMDAwNCIgeT0iMTE1LjI5MiI+JiMxMjUxMzsmIzEyNDgzOyYjMTI0NzU7JiMxMjU0MDsmIzEyNDcyOyYjMTk5Njg7JiMzNTIzOTsmIzMwMDExOyYjMzg3NTQ7PC90ZXh0PjxwYXRoIGQ9Ik0xNTUuNTAwMSw3NC4yOTY5IEwxNTUuNTAwMSw5OC4yOTY5IE0xNTUuNTAwMSw4Ni4yOTY5IEwxNzIuNTAwMSw4Ni4yOTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48ZWxsaXBzZSBjeD0iMTg0LjUwMDEiIGN5PSI4Ni4yOTY5IiBmaWxsPSIjRTJFMkYwIiByeD0iMTIiIHJ5PSIxMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJNZXNzYWdlTGlzdCI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1Ljk5OTUiIHg9IjExMC4wMDA0IiB5PSI0NzAuMTgyNiI+JiMxMjUxMzsmIzEyNDgzOyYjMTI0NzU7JiMxMjU0MDsmIzEyNDcyOyYjMTk5Njg7JiMzNTIzOTsmIzMwMDExOyYjMzg3NTQ7PC90ZXh0PjxwYXRoIGQ9Ik0xNTUuNTAwMSw0NzcuNDg0NCBMMTU1LjUwMDEsNTAxLjQ4NDQgTTE1NS41MDAxLDQ4OS40ODQ0IEwxNzIuNTAwMSw0ODkuNDg0NCIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PGVsbGlwc2UgY3g9IjE4NC41MDAxIiBjeT0iNDg5LjQ4NDQiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9IkNvbnRyb2xsZXIiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNy44MjYyIiB4PSIyNzIuMjU1IiB5PSIxMTUuMjkyIj5NZXNzYWdlc0NvbnRyb2xsZXI8L3RleHQ+PGVsbGlwc2UgY3g9IjM0NC4xNjgxIiBjeT0iODYuMjk2OSIgZmlsbD0iI0UyRTJGMCIgcng9IjEyIiByeT0iMTIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzQwLjE2ODEsNzQuMjk2OSwzNDYuMTY4MSw2OS4yOTY5LDM0NC4xNjgxLDc0LjI5NjksMzQ2LjE2ODEsNzkuMjk2OSwzNDAuMTY4MSw3NC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJDb250cm9sbGVyIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzcuODI2MiIgeD0iMjcyLjI1NSIgeT0iNDcwLjE4MjYiPk1lc3NhZ2VzQ29udHJvbGxlcjwvdGV4dD48ZWxsaXBzZSBjeD0iMzQ0LjE2ODEiIGN5PSI0ODkuNDg0NCIgZmlsbD0iI0UyRTJGMCIgcng9IjEyIiByeT0iMTIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzQwLjE2ODEsNDc3LjQ4NDQsMzQ2LjE2ODEsNDcyLjQ4NDQsMzQ0LjE2ODEsNDc3LjQ4NDQsMzQ2LjE2ODEsNDgyLjQ4NDQsMzQwLjE2ODEsNDc3LjQ4NDQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9Ik1lc3NhZ2UiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk0LjE3MTkiIHg9IjUzMS4zMDYyIiB5PSIxMTUuMjkyIj5TdGFmZk1lc3NhZ2U8L3RleHQ+PGVsbGlwc2UgY3g9IjU4MS4zOTIyIiBjeT0iODYuMjk2OSIgZmlsbD0iI0UyRTJGMCIgcng9IjEyIiByeT0iMTIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjU2OS4zOTIyIiB4Mj0iNTkzLjM5MjIiIHkxPSIxMDAuMjk2OSIgeTI9IjEwMC4yOTY5Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJNZXNzYWdlIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC4xNzE5IiB4PSI1MzEuMzA2MiIgeT0iNDcwLjE4MjYiPlN0YWZmTWVzc2FnZTwvdGV4dD48ZWxsaXBzZSBjeD0iNTgxLjM5MjIiIGN5PSI0ODkuNDg0NCIgZmlsbD0iI0UyRTJGMCIgcng9IjEyIiByeT0iMTIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjU2OS4zOTIyIiB4Mj0iNTkzLjM5MjIiIHkxPSI1MDMuNDg0NCIgeTI9IjUwMy40ODQ0Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLXBhcnRpY2lwYW50PSJEQiI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjYuODAwOCIgeD0iNzc1LjU4OTEiIHk9IjExNS4yOTIiPkRhdGFiYXNlPC90ZXh0PjxwYXRoIGQ9Ik03OTMuOTg5NSw2Ni4yOTY5IEM3OTMuOTg5NSw1Ni4yOTY5IDgxMS45ODk1LDU2LjI5NjkgODExLjk4OTUsNTYuMjk2OSBDODExLjk4OTUsNTYuMjk2OSA4MjkuOTg5NSw1Ni4yOTY5IDgyOS45ODk1LDY2LjI5NjkgTDgyOS45ODk1LDkyLjI5NjkgQzgyOS45ODk1LDEwMi4yOTY5IDgxMS45ODk1LDEwMi4yOTY5IDgxMS45ODk1LDEwMi4yOTY5IEM4MTEuOTg5NSwxMDIuMjk2OSA3OTMuOTg5NSwxMDIuMjk2OSA3OTMuOTg5NSw5Mi4yOTY5IEw3OTMuOTg5NSw2Ni4yOTY5IiBmaWxsPSIjRTJFMkYwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNzkzLjk4OTUsNjYuMjk2OSBDNzkzLjk4OTUsNzYuMjk2OSA4MTEuOTg5NSw3Ni4yOTY5IDgxMS45ODk1LDc2LjI5NjkgQzgxMS45ODk1LDc2LjI5NjkgODI5Ljk4OTUsNzYuMjk2OSA4MjkuOTg5NSw2Ni4yOTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtcGFydGljaXBhbnQ9IkRCIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ni44MDA4IiB4PSI3NzUuNTg5MSIgeT0iNDcwLjE4MjYiPkRhdGFiYXNlPC90ZXh0PjxwYXRoIGQ9Ik03OTMuOTg5NSw0ODMuNDg0NCBDNzkzLjk4OTUsNDczLjQ4NDQgODExLjk4OTUsNDczLjQ4NDQgODExLjk4OTUsNDczLjQ4NDQgQzgxMS45ODk1LDQ3My40ODQ0IDgyOS45ODk1LDQ3My40ODQ0IDgyOS45ODk1LDQ4My40ODQ0IEw4MjkuOTg5NSw1MDkuNDg0NCBDODI5Ljk4OTUsNTE5LjQ4NDQgODExLjk4OTUsNTE5LjQ4NDQgODExLjk4OTUsNTE5LjQ4NDQgQzgxMS45ODk1LDUxOS40ODQ0IDc5My45ODk1LDUxOS40ODQ0IDc5My45ODk1LDUwOS40ODQ0IEw3OTMuOTg5NSw0ODMuNDg0NCIgZmlsbD0iI0UyRTJGMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTc5My45ODk1LDQ4My40ODQ0IEM3OTMuOTg5NSw0OTMuNDg0NCA4MTEuOTg5NSw0OTMuNDg0NCA4MTEuOTg5NSw0OTMuNDg0NCBDODExLjk4OTUsNDkzLjQ4NDQgODI5Ljk4OTUsNDkzLjQ4NDQgODI5Ljk4OTUsNDgzLjQ4NDQiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJDdXN0b21lciIgZGF0YS1wYXJ0aWNpcGFudC0yPSJNZXNzYWdlTGlzdCI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNjQuMDAwMSwxNDUuNzI2NiwxNzQuMDAwMSwxNDkuNzI2NiwxNjQuMDAwMSwxNTMuNzI2NiwxNjguMDAwMSwxNDkuNzI2NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMS45OTk5IiB4Mj0iMTcwLjAwMDEiIHkxPSIxNDkuNzI2NiIgeTI9IjE0OS43MjY2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwLjAwMDIiIHg9IjI4Ljk5OTkiIHk9IjE0NC42NjA2Ij4mIzIxMDY2OyYjMzg1MDA7JiMxMjUwODsmIzEyNDc5OyYjMTI1MzE7JiMxMjQzNDsmIzEyNDYzOyYjMTI1MjI7JiMxMjQ4MzsmIzEyNDYzOzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iTWVzc2FnZUxpc3QiIGRhdGEtcGFydGljaXBhbnQtMj0iQ29udHJvbGxlciI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMzIuMTY4MSwxNzQuODU5NCwzNDIuMTY4MSwxNzguODU5NCwzMzIuMTY4MSwxODIuODU5NCwzMzYuMTY4MSwxNzguODU5NCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNzYuMDAwMSIgeDI9IjMzOC4xNjgxIiB5MT0iMTc4Ljg1OTQiIHkyPSIxNzguODU5NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0NC4xNjgiIHg9IjE4My4wMDAxIiB5PSIxNzMuNzkzNSI+REVMRVRFIC9tZXNzYWdlcy86aWQ8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9IkNvbnRyb2xsZXIiIGRhdGEtcGFydGljaXBhbnQtMj0iTWVzc2FnZSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1NjkuMzkyMiwyMDMuOTkyMiw1NzkuMzkyMiwyMDcuOTkyMiw1NjkuMzkyMiwyMTEuOTkyMiw1NzMuMzkyMiwyMDcuOTkyMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNDQuMTY4MSIgeDI9IjU3NS4zOTIyIiB5MT0iMjA3Ljk5MjIiIHkyPSIyMDcuOTkyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMC4xNzYzIiB4PSIzNTEuMTY4MSIgeT0iMjAyLjkyNjMiPmZpbmQocGFyYW1zWzppZF0pPC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJNZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTI9IkNvbnRyb2xsZXIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzU1LjE2ODEsMjMzLjEyNSwzNDUuMTY4MSwyMzcuMTI1LDM1NS4xNjgxLDI0MS4xMjUsMzUxLjE2ODEsMjM3LjEyNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNDkuMTY4MSIgeDI9IjU4MC4zOTIyIiB5MT0iMjM3LjEyNSIgeTI9IjIzNy4xMjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDMuMDAwMiIgeD0iMzYxLjE2ODEiIHk9IjIzMi4wNTkxIj4mIzEyNTEzOyYjMTI0ODM7JiMxMjQ3NTsmIzEyNTQwOyYjMTI0NzI7JiMxMjQ1ODsmIzEyNTAyOyYjMTI0NzI7JiMxMjQ1NTsmIzEyNDYzOyYjMTI0ODg7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJDb250cm9sbGVyIiBkYXRhLXBhcnRpY2lwYW50LTI9Ik1lc3NhZ2UiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTY5LjM5MjIsMjYyLjI1NzgsNTc5LjM5MjIsMjY2LjI1NzgsNTY5LjM5MjIsMjcwLjI1NzgsNTczLjM5MjIsMjY2LjI1NzgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzQ0LjE2ODEiIHgyPSI1NzUuMzkyMiIgeTE9IjI2Ni4yNTc4IiB5Mj0iMjY2LjI1NzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMTMuMjI0MSIgeD0iMzUxLjE2ODEiIHk9IjI2MS4xOTE5Ij51cGRhdGVfY29sdW1uKDpkaXNjYXJkZWQsIHRydWUpPC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJNZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTI9IkRCIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijc5OS45ODk1LDI5MS4zOTA2LDgwOS45ODk1LDI5NS4zOTA2LDc5OS45ODk1LDI5OS4zOTA2LDgwMy45ODk1LDI5NS4zOTA2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU4MS4zOTIyIiB4Mj0iODA1Ljk4OTUiIHkxPSIyOTUuMzkwNiIgeTI9IjI5NS4zOTA2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjA2LjU5NzMiIHg9IjU4OC4zOTIyIiB5PSIyOTAuMzI0NyI+JiMzNTU0MjsmIzI5NzAyOyYjMjEwNjY7JiMzODUwMDsmIzY1Mjg4O2Rpc2NhcmRlZCYjMTI1MDE7JiMxMjUyMTsmIzEyNDY0OyYjMjYzNTY7JiMyNjAzMjsmIzY1Mjg5OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iQ29udHJvbGxlciIgZGF0YS1wYXJ0aWNpcGFudC0yPSJDdXN0b21lciI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMi45OTk5LDMyMC41MjM0LDIyLjk5OTksMzI0LjUyMzQsMzIuOTk5OSwzMjguNTIzNCwyOC45OTk5LDMyNC41MjM0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI2Ljk5OTkiIHgyPSIzNDMuMTY4MSIgeTE9IjMyNC41MjM0IiB5Mj0iMzI0LjUyMzQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNTIuNDAyMSIgeD0iMzguOTk5OSIgeT0iMzE5LjQ1NzUiPiYjMTI1MjI7JiMxMjQ4MDsmIzEyNDUyOyYjMTI1MjQ7JiMxMjQ2MzsmIzEyNDg4OyAmYW1wOyAmIzEyNTAxOyYjMTI1MjE7JiMxMjQ4MzsmIzEyNDcxOyYjMTI1MTc7JiMxMjUxMzsmIzEyNDgzOyYjMTI0NzU7JiMxMjU0MDsmIzEyNDcyOyYjMzQ5MjA7JiMzMTAzNDs8L3RleHQ+PC9nPjxwYXRoIGQ9Ik01ODYsMzM3LjUyMzQgTDU4NiwzNzcuNTIzNCBMODAyLDM3Ny41MjM0IEw4MDIsMzQ3LjUyMzQgTDc5MiwzMzcuNTIzNCBMNTg2LDMzNy41MjM0IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNzkyLDMzNy41MjM0IEw3OTIsMzQ3LjUyMzQgTDgwMiwzNDcuNTIzNCBMNzkyLDMzNy41MjM0IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTUuMDAwMiIgeD0iNTkyIiB5PSIzNTQuNTkwMyI+JiMyOTI4OTsmIzI5NzAyOyYjMjEwNjY7JiMzODUwMDsmIzEyMzkxOyYjMTIzOTk7JiMxMjM5NDsmIzEyMzY3OyYjMzU1NDI7JiMyOTcwMjsmIzIxMDY2OyYjMzg1MDA7JiMxMjQzNDsmIzI1NTA1OyYjMjk5OTI7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Mi41NjYiIHg9IjU5MiIgeT0iMzY5LjcyMzEiPmRpc2NhcmRlZCA9IHRydWUgJiMxMjM5NTsmIzM1MzczOyYjMjM0NTA7PC90ZXh0PjxwYXRoIGQ9Ik0zNDksMzg3Ljc4OTEgTDM0OSw0NDIuNzg5MSBMNTIzLDQ0Mi43ODkxIEw1MjMsMzk3Ljc4OTEgTDUxMywzODcuNzg5MSBMMzQ5LDM4Ny43ODkxIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNTEzLDM4Ny43ODkxIEw1MTMsMzk3Ljc4OTEgTDUyMywzOTcuNzg5MSBMNTEzLDM4Ny43ODkxIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSIzNTUiIHk9IjQwNC44NTYiPiYjMTk5Njg7JiMzNTIzOTsmIzM0OTIwOyYjMzEwMzQ7JiMyNjE3ODsmIzEyMzk1OyYjMTIzOTk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1My4zOTExIiB4PSIzNTUiIHk9IjQxOS45ODg4Ij53aGVyZShkaXNjYXJkZWQ6IGZhbHNlKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSIzNTUiIHk9IjQzNS4xMjE2Ij4mIzEyMzk4OyYjMjY0NjU7JiMyMDIxNDsmIzEyNDM0OyYjMzY4NjE7JiMyMTE1Mjs8L3RleHQ+PCEtLVNSQz1bVFBCRlJqRDA0Q1JsLW5JWjc1MkdnN2d0MThTc2tSS2RrMjY0amw2Y2pVSk9iUnFNdWJSbElZV2Y0WTFLOFhNZVliNFhJR2o5OUgxSzk1S1ZQWGhSRVZLTE1GLTlRb25uTXd6ZGxrX3RwR3V0a0NiVzRHcGN1eV9lZHc3ZWVkWTlDYTBmS0tuSHBiMVNwN2x4WXlFSlM3R1NvcWoyUThsUjNqSW9iWGZHNXpPemJ6aVR2ZjBqc3hEcXdabzdNYU5YLWM4bF9aZzgzZ1FCZXduYmF4YWt0TU9SWGlqOW94UXVPdmpHb29fVHpVcDJQNHVjTnRtSVBkNjNBX2M3ZEJSUlVOYlBaLVlLcW90Z0NnV3J5YkZ3a3g1Nm85OElMWHdLeEpOOHVnN3lZRThBdkd5S1JyNUNLOXdjMElRYUw5a3F0ajllcTZYa0QxeXJPUk1KV3d6Z1hhdmsycWZFNmhHREl3X2xLZVRzdENVZ3hDZFRmTjFMajM4dzUwZ2FkbnU2QUxWdFZteFVoYWhGZGhQaXEtak9US3F0dDFQclRBUlYwLXZ1eDEtX25mZTZ5TGFfVWxDWTJ0eXB3blJiQUQtWDdBNHUzcF95M0ZsZER4RFVuTjB2bzBITGlVc1hLQ0Z4Ymg3MTdTWnhhbVlfS053Zm44YzNPTkpvWG4zQnZXbVNPdGs3V3pxa2RZX2daR2VjejBWZUp6MF9IVnpyY0xNekpfV2dZMHc2ZjQyNi1zYjRLMGlTM3hfRm4tX0xla1lHTTVJREloa0t4TUo2NG53QVBGZHoyTmNzbW5uTUJ2SkxrcjdKTFNEM1ZubVUxVFZKTnllLWxoZ1N4dHlnRkZ1Ml0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_7">変更内容<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 026976f2859694f60d7e26a25f2478fb6cd972dd
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Mar 27 18:58:56 2017 +0900

<span class="w"> </span>   問3 #21

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 247365f..868fde6 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -791,6 +791,7 @@ git push heroku master</span>
<span class="w"> </span>#### 演習問題  
<span class="w"> </span>+ 問１
<span class="w"> </span>+ 問２
<span class="gi">++ 問３</span>


<span class="w"> </span>**[⬆ back to top](#構成)**
<span class="gh">diff --git a/app/controllers/customer/messages_controller.rb b/app/controllers/customer/messages_controller.rb</span>
<span class="gh">index f5e738a..2877f1e 100644</span>
<span class="gd">--- a/app/controllers/customer/messages_controller.rb</span>
<span class="gi">+++ b/app/controllers/customer/messages_controller.rb</span>
<span class="gu">@@ -1,6 +1,6 @@</span>
<span class="w"> </span>class Customer::MessagesController &lt; Customer::Base
<span class="w"> </span>  def index
<span class="gd">-    @messages = current_customer.inbound_messages.page(params[:page])</span>
<span class="gi">+    @messages = current_customer.inbound_messages.where(discarded: false).page(params[:page])</span>
<span class="w"> </span>  end

<span class="w"> </span>  def show
<span class="gu">@@ -38,6 +38,13 @@ class Customer::MessagesController &lt; Customer::Base</span>
<span class="w"> </span>    end
<span class="w"> </span>  end

<span class="gi">+  def destroy</span>
<span class="gi">+    message = StaffMessage.find(params[:id])</span>
<span class="gi">+    message.update_column(:discarded, true)</span>
<span class="gi">+    flash.notice = t(&#39;.flash_notice&#39;)</span>
<span class="gi">+    redirect_to :back</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="w"> </span>  private
<span class="w"> </span>  def customer_message_params
<span class="w"> </span>    params.require(:customer_message).permit(
<span class="gh">diff --git a/app/views/customer/messages/index.html.erb b/app/views/customer/messages/index.html.erb</span>
<span class="gh">index 66ca706..e6b43c0 100644</span>
<span class="gd">--- a/app/views/customer/messages/index.html.erb</span>
<span class="gi">+++ b/app/views/customer/messages/index.html.erb</span>
<span class="gu">@@ -20,6 +20,7 @@</span>
<span class="w"> </span>          &lt;td class=&quot;Table__td--date&quot;&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;
<span class="w"> </span>          &lt;td class=&quot;Table__td--action&quot;&gt;
<span class="w"> </span>            &lt;%= link_to t(&#39;customer.messages.index.detail&#39;), customer_message_path(m), class: &#39;btn btn-default btn-xs&#39; %&gt;
<span class="gi">+            &lt;%= link_to t(&#39;customer.messages.index.delete&#39;), customer_message_path(m), method: :delete, data: { confirm: t(&#39;.delete_confirm&#39;)},class: &#39;btn btn-default btn-xs&#39; %&gt;</span>
<span class="w"> </span>          &lt;/td&gt;
<span class="w"> </span>        &lt;/tr&gt;
<span class="w"> </span>    &lt;% end %&gt;
<span class="gh">diff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml</span>
<span class="gh">index a67b2aa..4a4b989 100644</span>
<span class="gd">--- a/config/locales/controllers/ja.yml</span>
<span class="gi">+++ b/config/locales/controllers/ja.yml</span>
<span class="gu">@@ -95,4 +95,6 @@ ja:</span>
<span class="w"> </span>      create:
<span class="w"> </span>        flash_notice: &#39;問い合わせを送信しました。&#39;
<span class="w"> </span>        flash_alert: &#39;入力に誤りがあります。&#39;
<span class="gi">+      destroy:</span>
<span class="gi">+        flash_notice: &#39;メッセージを削除しました。&#39;</span>

<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index 761bdf3..7428b9e 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -348,6 +348,8 @@ ja:</span>
<span class="w"> </span>        created_at: &#39;作成日時&#39;
<span class="w"> </span>        action: &#39;アクション&#39;
<span class="w"> </span>        detail: &#39;詳細&#39;
<span class="gi">+        delete: &#39;削除&#39;</span>
<span class="gi">+        delete_confirm: &#39;本当に削除しますか?&#39;</span>
<span class="w"> </span>      show:
<span class="w"> </span>        title: &#39;メッセージ詳細&#39;
<span class="w"> </span>        sender: &#39;送信者&#39;
<span class="gh">diff --git a/config/routes.rb b/config/routes.rb</span>
<span class="gh">index 3270c80..66b0ef3 100644</span>
<span class="gd">--- a/config/routes.rb</span>
<span class="gi">+++ b/config/routes.rb</span>
<span class="gu">@@ -85,6 +85,7 @@</span>
<span class="w"> </span>#                                 POST   /messages(.:format)                                  customer/messages#create {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#            new_customer_message GET    /messages/new(.:format)                              customer/messages#new {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                customer_message GET    /messages/:id(.:format)                              customer/messages#show {:host=&gt;&quot;0.0.0.0&quot;}
<span class="gi">+#                                 DELETE /messages/:id(.:format)                              customer/messages#destroy {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="w"> </span>#                            root GET    /                                                    errors#routing_error
<span class="w"> </span>#                                 GET    /*anything(.:format)                                 errors#routing_error
<span class="w"> </span>#
<span class="gu">@@ -155,7 +156,7 @@ Rails.application.routes.draw do</span>
<span class="w"> </span>          patch :cancel, on: :member
<span class="w"> </span>        end
<span class="w"> </span>      end
<span class="gd">-      resources :messages, only: [ :index, :show, :new, :create ] do</span>
<span class="gi">+      resources :messages, except: [ :edit, :update ] do</span>
<span class="w"> </span>        post :confirm, on: :collection
<span class="w"> </span>      end
<span class="w"> </span>    end
</code></pre></div>
<h3 id="_8">構造変更<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="1ab342f-">コミット: 1ab342f - メッセージ詳細表示機能の実装<a class="headerlink" href="#1ab342f-" title="Permanent link">&para;</a></h2>
<h3 id="_9">概要<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p>顧客がメッセージの詳細を閲覧できる機能を実装しました。これにより、顧客は受信したメッセージの全文や詳細情報を確認することができます。また、メッセージ一覧画面から詳細画面へのナビゲーションも改善しました。</p>
<h3 id="_10">技術的詳細<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<ul>
<li><code>show</code>アクションを実装し、顧客の受信メッセージを取得して表示</li>
<li>メッセージ詳細表示用のビューテンプレートを新規作成</li>
<li>メッセージ一覧画面に詳細ページへのリンクを追加</li>
<li>スタイルの調整（Customer用のスタイルクラスを適用）</li>
<li>共通のMessagePresenterを使用してコードの重複を削減</li>
</ul>
<h3 id="_11">メッセージ<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>問2 #21
</code></pre></div>
<h3 id="_12">変更されたファイル<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/controllers/customer/messages_controller.rb</li>
<li>M app/views/customer/messages/index.html.erb</li>
<li>A app/views/customer/messages/show.html.erb</li>
<li>M app/views/staff/replies/_message.erb</li>
<li>M config/locales/views/ja.yml</li>
<li>M config/routes.rb</li>
</ul>
<h3 id="_13">構造変更<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjQ4MHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6OTA1cHg7aGVpZ2h0OjQ4MHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDkwNSA0ODAiIHdpZHRoPSI5MDVweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI1MTM7JiMxMjQ4MzsmIzEyNDc1OyYjMTI1NDA7JiMxMjQ3MjsmIzM1NDQzOyYjMzIwNDg7JiMzNDkyMDsmIzMxMDM0OyYjMjcyMzE7JiMzMzAyMTs8L3RpdGxlPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjk5OTMiIHg9IjM3Ny4wNjkzIiB5PSIyNy45OTUxIj4mIzEyNTEzOyYjMTI0ODM7JiMxMjQ3NTsmIzEyNTQwOyYjMTI0NzI7JiMzNTQ0MzsmIzMyMDQ4OyYjMzQ5MjA7JiMzMTAzNDsmIzI3MjMxOyYjMzMwMjE7PC90ZXh0PjxnPjx0aXRsZT4uLjwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjI4MS4zMjgxIiB3aWR0aD0iOCIgeD0iMTcuOTk5OSIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIyMSIgeDI9IjIxIiB5MT0iMTE4LjU5MzgiIHkyPSIzOTkuOTIxOSIvPjwvZz48Zz48dGl0bGU+Li4uLi4uLi4uPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMjgxLjMyODEiIHdpZHRoPSI4IiB4PSIxNzIuMDAwMSIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIxNzUuMDAwNCIgeDI9IjE3NS4wMDA0IiB5MT0iMTE4LjU5MzgiIHkyPSIzOTkuOTIxOSIvPjwvZz48Zz48dGl0bGU+Li4uLi4uLi4uPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMjgxLjMyODEiIHdpZHRoPSI4IiB4PSIzMTMuOTk5NSIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIzMTYuOTk5OCIgeDI9IjMxNi45OTk4IiB5MT0iMTE4LjU5MzgiIHkyPSIzOTkuOTIxOSIvPjwvZz48Zz48dGl0bGU+TWVzc2FnZXNDb250cm9sbGVyPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMjgxLjMyODEiIHdpZHRoPSI4IiB4PSI0NjcuOTk5NyIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI0NzEuMDg2NiIgeDI9IjQ3MS4wODY2IiB5MT0iMTE4LjU5MzgiIHkyPSIzOTkuOTIxOSIvPjwvZz48Zz48dGl0bGU+U3RhZmZNZXNzYWdlPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMjgxLjMyODEiIHdpZHRoPSI4IiB4PSI4NTAuMDUxOSIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI4NTMuOTY2IiB4Mj0iODUzLjk2NiIgeTE9IjExOC41OTM4IiB5Mj0iMzk5LjkyMTkiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9IkN1c3RvbWVyIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSI1IiB5PSIxMTUuMjkyIj4mIzM5MDE1OyYjMjM0NTg7PC90ZXh0PjxlbGxpcHNlIGN4PSIyMS45OTk5IiBjeT0iNTAuNzk2OSIgZmlsbD0iI0UyRTJGMCIgcng9IjgiIHJ5PSI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMjEuOTk5OSw1OC43OTY5IEwyMS45OTk5LDg1Ljc5NjkgTTguOTk5OSw2Ni43OTY5IEwzNC45OTk5LDY2Ljc5NjkgTTIxLjk5OTksODUuNzk2OSBMOC45OTk5LDEwMC43OTY5IE0yMS45OTk5LDg1Ljc5NjkgTDM0Ljk5OTksMTAwLjc5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0iQ3VzdG9tZXIiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjUiIHk9IjQxMS45MTciPiYjMzkwMTU7JiMyMzQ1ODs8L3RleHQ+PGVsbGlwc2UgY3g9IjIxLjk5OTkiIGN5PSI0MjMuNzE4OCIgZmlsbD0iI0UyRTJGMCIgcng9IjgiIHJ5PSI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMjEuOTk5OSw0MzEuNzE4OCBMMjEuOTk5OSw0NTguNzE4OCBNOC45OTk5LDQzOS43MTg4IEwzNC45OTk5LDQzOS43MTg4IE0yMS45OTk5LDQ1OC43MTg4IEw4Ljk5OTksNDczLjcxODggTTIxLjk5OTksNDU4LjcxODggTDM0Ljk5OTksNDczLjcxODgiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0iTWVzc2FnZUxpc3QiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS45OTk1IiB4PSIxMTAuMDAwNCIgeT0iMTE1LjI5MiI+JiMxMjUxMzsmIzEyNDgzOyYjMTI0NzU7JiMxMjU0MDsmIzEyNDcyOyYjMTk5Njg7JiMzNTIzOTsmIzMwMDExOyYjMzg3NTQ7PC90ZXh0PjxwYXRoIGQ9Ik0xNTUuNTAwMSw3NC4yOTY5IEwxNTUuNTAwMSw5OC4yOTY5IE0xNTUuNTAwMSw4Ni4yOTY5IEwxNzIuNTAwMSw4Ni4yOTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48ZWxsaXBzZSBjeD0iMTg0LjUwMDEiIGN5PSI4Ni4yOTY5IiBmaWxsPSIjRTJFMkYwIiByeD0iMTIiIHJ5PSIxMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJNZXNzYWdlTGlzdCI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1Ljk5OTUiIHg9IjExMC4wMDA0IiB5PSI0MTEuOTE3Ij4mIzEyNTEzOyYjMTI0ODM7JiMxMjQ3NTsmIzEyNTQwOyYjMTI0NzI7JiMxOTk2ODsmIzM1MjM5OyYjMzAwMTE7JiMzODc1NDs8L3RleHQ+PHBhdGggZD0iTTE1NS41MDAxLDQxOS4yMTg4IEwxNTUuNTAwMSw0NDMuMjE4OCBNMTU1LjUwMDEsNDMxLjIxODggTDE3Mi41MDAxLDQzMS4yMTg4IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48ZWxsaXBzZSBjeD0iMTg0LjUwMDEiIGN5PSI0MzEuMjE4OCIgZmlsbD0iI0UyRTJGMCIgcng9IjEyIiByeT0iMTIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0iTWVzc2FnZURldGFpbCI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1Ljk5OTUiIHg9IjI1MS45OTk4IiB5PSIxMTUuMjkyIj4mIzEyNTEzOyYjMTI0ODM7JiMxMjQ3NTsmIzEyNTQwOyYjMTI0NzI7JiMzNTQ0MzsmIzMyMDQ4OyYjMzAwMTE7JiMzODc1NDs8L3RleHQ+PHBhdGggZD0iTTI5Ny40OTk1LDc0LjI5NjkgTDI5Ny40OTk1LDk4LjI5NjkgTTI5Ny40OTk1LDg2LjI5NjkgTDMxNC40OTk1LDg2LjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxlbGxpcHNlIGN4PSIzMjYuNDk5NSIgY3k9Ijg2LjI5NjkiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtcGFydGljaXBhbnQ9Ik1lc3NhZ2VEZXRhaWwiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS45OTk1IiB4PSIyNTEuOTk5OCIgeT0iNDExLjkxNyI+JiMxMjUxMzsmIzEyNDgzOyYjMTI0NzU7JiMxMjU0MDsmIzEyNDcyOyYjMzU0NDM7JiMzMjA0ODsmIzMwMDExOyYjMzg3NTQ7PC90ZXh0PjxwYXRoIGQ9Ik0yOTcuNDk5NSw0MTkuMjE4OCBMMjk3LjQ5OTUsNDQzLjIxODggTTI5Ny40OTk1LDQzMS4yMTg4IEwzMTQuNDk5NSw0MzEuMjE4OCIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PGVsbGlwc2UgY3g9IjMyNi40OTk1IiBjeT0iNDMxLjIxODgiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9IkNvbnRyb2xsZXIiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNy44MjYyIiB4PSI0MDAuMDg2NiIgeT0iMTE1LjI5MiI+TWVzc2FnZXNDb250cm9sbGVyPC90ZXh0PjxlbGxpcHNlIGN4PSI0NzEuOTk5NyIgY3k9Ijg2LjI5NjkiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQ2Ny45OTk3LDc0LjI5NjksNDczLjk5OTcsNjkuMjk2OSw0NzEuOTk5Nyw3NC4yOTY5LDQ3My45OTk3LDc5LjI5NjksNDY3Ljk5OTcsNzQuMjk2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0iQ29udHJvbGxlciI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM3LjgyNjIiIHg9IjQwMC4wODY2IiB5PSI0MTEuOTE3Ij5NZXNzYWdlc0NvbnRyb2xsZXI8L3RleHQ+PGVsbGlwc2UgY3g9IjQ3MS45OTk3IiBjeT0iNDMxLjIxODgiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQ2Ny45OTk3LDQxOS4yMTg4LDQ3My45OTk3LDQxNC4yMTg4LDQ3MS45OTk3LDQxOS4yMTg4LDQ3My45OTk3LDQyNC4yMTg4LDQ2Ny45OTk3LDQxOS4yMTg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLXBhcnRpY2lwYW50PSJNZXNzYWdlIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC4xNzE5IiB4PSI4MDMuOTY2IiB5PSIxMTUuMjkyIj5TdGFmZk1lc3NhZ2U8L3RleHQ+PGVsbGlwc2UgY3g9Ijg1NC4wNTE5IiBjeT0iODYuMjk2OSIgZmlsbD0iI0UyRTJGMCIgcng9IjEyIiByeT0iMTIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9Ijg0Mi4wNTE5IiB4Mj0iODY2LjA1MTkiIHkxPSIxMDAuMjk2OSIgeTI9IjEwMC4yOTY5Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJNZXNzYWdlIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC4xNzE5IiB4PSI4MDMuOTY2IiB5PSI0MTEuOTE3Ij5TdGFmZk1lc3NhZ2U8L3RleHQ+PGVsbGlwc2UgY3g9Ijg1NC4wNTE5IiBjeT0iNDMxLjIxODgiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4NDIuMDUxOSIgeDI9Ijg2Ni4wNTE5IiB5MT0iNDQ1LjIxODgiIHkyPSI0NDUuMjE4OCIvPjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJDdXN0b21lciIgZGF0YS1wYXJ0aWNpcGFudC0yPSJNZXNzYWdlTGlzdCI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNjQuMDAwMSwxNDUuNzI2NiwxNzQuMDAwMSwxNDkuNzI2NiwxNjQuMDAwMSwxNTMuNzI2NiwxNjguMDAwMSwxNDkuNzI2NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMS45OTk5IiB4Mj0iMTcwLjAwMDEiIHkxPSIxNDkuNzI2NiIgeTI9IjE0OS43MjY2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwLjAwMDIiIHg9IjI4Ljk5OTkiIHk9IjE0NC42NjA2Ij4mIzM1NDQzOyYjMzIwNDg7JiMxMjUyMjsmIzEyNTMxOyYjMTI0NjM7JiMxMjQzNDsmIzEyNDYzOyYjMTI1MjI7JiMxMjQ4MzsmIzEyNDYzOzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iTWVzc2FnZUxpc3QiIGRhdGEtcGFydGljaXBhbnQtMj0iQ29udHJvbGxlciI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0NTkuOTk5NywxNzQuODU5NCw0NjkuOTk5NywxNzguODU5NCw0NTkuOTk5NywxODIuODU5NCw0NjMuOTk5NywxNzguODU5NCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNzYuMDAwMSIgeDI9IjQ2NS45OTk3IiB5MT0iMTc4Ljg1OTQiIHkyPSIxNzguODU5NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMC41NjEiIHg9IjE4My4wMDAxIiB5PSIxNzMuNzkzNSI+R0VUIC9tZXNzYWdlcy86aWQ8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9IkNvbnRyb2xsZXIiIGRhdGEtcGFydGljaXBhbnQtMj0iTWVzc2FnZSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4NDIuMDUxOSwyMDMuOTkyMiw4NTIuMDUxOSwyMDcuOTkyMiw4NDIuMDUxOSwyMTEuOTkyMiw4NDYuMDUxOSwyMDcuOTkyMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0NzEuOTk5NyIgeDI9Ijg0OC4wNTE5IiB5MT0iMjA3Ljk5MjIiIHkyPSIyMDcuOTkyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM1OC4wNTIyIiB4PSI0NzguOTk5NyIgeT0iMjAyLjkyNjMiPmN1cnJlbnRfY3VzdG9tZXIuaW5ib3VuZF9tZXNzYWdlcy5maW5kKHBhcmFtc1s6aWRdKTwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iTWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0yPSJDb250cm9sbGVyIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQ4Mi45OTk3LDIzMy4xMjUsNDcyLjk5OTcsMjM3LjEyNSw0ODIuOTk5NywyNDEuMTI1LDQ3OC45OTk3LDIzNy4xMjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDc2Ljk5OTciIHgyPSI4NTMuMDUxOSIgeTE9IjIzNy4xMjUiIHkyPSIyMzcuMTI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQzLjAwMDIiIHg9IjQ4OC45OTk3IiB5PSIyMzIuMDU5MSI+JiMxMjUxMzsmIzEyNDgzOyYjMTI0NzU7JiMxMjU0MDsmIzEyNDcyOyYjMTI0NTg7JiMxMjUwMjsmIzEyNDcyOyYjMTI0NTU7JiMxMjQ2MzsmIzEyNDg4OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iQ29udHJvbGxlciIgZGF0YS1wYXJ0aWNpcGFudC0yPSJNZXNzYWdlRGV0YWlsIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMyOC45OTk1LDI2Mi4yNTc4LDMxOC45OTk1LDI2Ni4yNTc4LDMyOC45OTk1LDI3MC4yNTc4LDMyNC45OTk1LDI2Ni4yNTc4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMyMi45OTk1IiB4Mj0iNDcwLjk5OTciIHkxPSIyNjYuMjU3OCIgeTI9IjI2Ni4yNTc4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwLjAwMDIiIHg9IjMzNC45OTk1IiB5PSIyNjEuMTkxOSI+JiMxMjUxMzsmIzEyNDgzOyYjMTI0NzU7JiMxMjU0MDsmIzEyNDcyOyYjMjQ3NzM7JiMyMjU3NzsmIzEyNDM0OyYjMzQ5MjA7JiMzMTAzNDs8L3RleHQ+PC9nPjxwYXRoIGQ9Ik00NzYsMjc5LjI1NzggTDQ3NiwzMzQuMjU3OCBMNjY0LDMzNC4yNTc4IEw2NjQsMjg5LjI1NzggTDY1NCwyNzkuMjU3OCBMNDc2LDI3OS4yNTc4IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNjU0LDI3OS4yNTc4IEw2NTQsMjg5LjI1NzggTDY2NCwyODkuMjU3OCBMNjU0LDI3OS4yNTc4IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDMuMDAwMiIgeD0iNDgyIiB5PSIyOTYuMzI0NyI+JiMxMjQ3NTsmIzEyNDYxOyYjMTI1MTc7JiMxMjUyMjsmIzEyNDg2OyYjMTI0NTE7JiMyMzU1MDsmIzMxNTc0OyYjMTIzOTI7JiMxMjM3NTsmIzEyMzkwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjcuMTI3NSIgeD0iNDgyIiB5PSIzMTEuNDU3NSI+Y3VycmVudF9jdXN0b21lciYjMTIzOTU7JiMzMjAxNjsmIzEyMzg5OyYjMTIzNjc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNy4wMDAxIiB4PSI0ODIiIHk9IjMyNi41OTAzIj4mIzEyNTEzOyYjMTI0ODM7JiMxMjQ3NTsmIzEyNTQwOyYjMTI0NzI7JiMxMjM5ODsmIzEyNDE1OyYjMjE0NjI7JiMyNDQ3MTs8L3RleHQ+PHBhdGggZD0iTTMyMiwzNDQuNjU2MyBMMzIyLDM4NC42NTYzIEw1MjcsMzg0LjY1NjMgTDUyNywzNTQuNjU2MyBMNTE3LDM0NC42NTYzIEwzMjIsMzQ0LjY1NjMiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik01MTcsMzQ0LjY1NjMgTDUxNywzNTQuNjU2MyBMNTI3LDM1NC42NTYzIEw1MTcsMzQ0LjY1NjMiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4NC42MDkiIHg9IjMyOCIgeT0iMzYxLjcyMzEiPk1lc3NhZ2VQcmVzZW50ZXImIzEyNDM0OyYjMjAzNTE7JiMyOTk5MjsmIzEyMzc1OyYjMTIzOTA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1LjAwMDEiIHg9IjMyOCIgeT0iMzc2Ljg1NiI+JiMzNDkyMDsmIzMxMDM0OyYjMTI0MzQ7JiMyNTk3MjsmIzI0NDE4OzwvdGV4dD48IS0tU1JDPVtUUDhfSnk5MDZDUnQtbkdOOVhzNGRTNDVaT2ljOWhlUEdvZVNzQUlxdmRlQ1JoT05aSGs2QTRuNkdWY2QwSkdtNDE3dUMyLWJ5MnN5cVdBcndEQnFWTmxGeV9wVWp5VGFmWDBDbDBJU1d6YTdfV3JjUnpoZXNEc0ZRUWJrbHR2RDZhekpGYTE4SVoyRHVqMmlMQkRRdkgyTVQxcEJ3YXBCNDhoRWpBb1FiRVdiM1dMeW5oc2hRUkxjdF9UZFp3eGFXRVl3YjJSeGlpeC1MeGRmd3dlVG1ZSFBHR2JEUExISlNDWGh3cDZ0ZUgzZ09ZckJINUdjQ241bW5BSEtvWmxrVHFIZUNHRlVzbFIzSFI0QjBWbURVMFZDRGZYdnYtY0swaElEVjZTVHdJZXBZbFRzWnQ0YXV4NTVlZDhJaFJ4d09nOHVhUUxLNENPSjdhRE9Ma1N4WUlfNHVQSWk5WlNrOTJmYnoxRFhUQmd2bzByYzFaTzhmazBpcDV6Z1MtcFJsbmRTWlF4OTlfcFFVbHVLOHhpdDAyNUxPbUhKRU50RWk5Um9CellIYzR0V2JWYmNSaTF5aVRmM2tyYTBlbXY2NE9tZzJXdTluaGxUbEdFWjBhT0UxUjZENVhXWkFyVW1YYU5ueHZCT29Hc2NfeHVDTmRMOFlJdklYQnNQN216NnpscVl0ZnIwVDJTRk5NakdOaGgtMDAwMF0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_14">変更内容<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 1ab342f87ced4276136100728a1ef8982858e4c4
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Mar 27 18:40:22 2017 +0900

<span class="w"> </span>   問2 #21

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index a7d1c40..247365f 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -790,6 +790,8 @@ git push heroku master</span>

<span class="w"> </span>#### 演習問題  
<span class="w"> </span>+ 問１
<span class="gi">++ 問２</span>
<span class="gi">+</span>

<span class="w"> </span>**[⬆ back to top](#構成)**

<span class="gh">diff --git a/app/controllers/customer/messages_controller.rb b/app/controllers/customer/messages_controller.rb</span>
<span class="gh">index 5044849..f5e738a 100644</span>
<span class="gd">--- a/app/controllers/customer/messages_controller.rb</span>
<span class="gi">+++ b/app/controllers/customer/messages_controller.rb</span>
<span class="gu">@@ -3,6 +3,10 @@ class Customer::MessagesController &lt; Customer::Base</span>
<span class="w"> </span>    @messages = current_customer.inbound_messages.page(params[:page])
<span class="w"> </span>  end

<span class="gi">+  def show</span>
<span class="gi">+    @message = current_customer.inbound_messages.find(params[:id])</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="w"> </span>  def new
<span class="w"> </span>    @message = CustomerMessage.new
<span class="w"> </span>  end
<span class="gh">diff --git a/app/views/customer/messages/index.html.erb b/app/views/customer/messages/index.html.erb</span>
<span class="gh">index 130fd34..66ca706 100644</span>
<span class="gd">--- a/app/views/customer/messages/index.html.erb</span>
<span class="gi">+++ b/app/views/customer/messages/index.html.erb</span>
<span class="gu">@@ -1,15 +1,16 @@</span>
<span class="w"> </span>&lt;section class=&quot;Section&quot;&gt;
<span class="gd">-  &lt;h1 class=&quot;Staff__title&quot;&gt;&lt;%= @title %&gt;&lt;/h1&gt;</span>
<span class="gi">+  &lt;h1 class=&quot;Customer__title&quot;&gt;&lt;%= @title %&gt;&lt;/h1&gt;</span>
<span class="w"> </span>&lt;/section&gt;

<span class="w"> </span>&lt;section class=&quot;Section l-column Table&quot;&gt;
<span class="w"> </span>  &lt;%= paginate @messages %&gt;

<span class="gd">-  &lt;table class=&quot;Table__body Table__body--listing StaffTable__body&quot;&gt;</span>
<span class="gi">+  &lt;table class=&quot;Table__body Table__body--listing CustomerTable__body&quot;&gt;</span>
<span class="w"> </span>    &lt;tr class=&quot;Table__tr&quot;&gt;
<span class="w"> </span>      &lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;customer.messages.index.sender&#39;) %&gt;&lt;/th&gt;
<span class="w"> </span>      &lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;customer.messages.index.subject&#39;) %&gt;&lt;/th&gt;
<span class="w"> </span>      &lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;customer.messages.index.created_at&#39;) %&gt;&lt;/th&gt;
<span class="gi">+      &lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;customer.messages.index.action&#39;) %&gt;&lt;/th&gt;</span>
<span class="w"> </span>    &lt;/tr&gt;
<span class="w"> </span>    &lt;% @messages.each do |m| %&gt;
<span class="w"> </span>        &lt;% p = MessagePresenter.new(m, self) %&gt;
<span class="gu">@@ -17,6 +18,9 @@</span>
<span class="w"> </span>          &lt;td class=&quot;Table__td&quot;&gt;&lt;%= p.sender %&gt;&lt;/td&gt;
<span class="w"> </span>          &lt;td class=&quot;Table__td&quot;&gt;&lt;%= p.truncated_subject %&gt;&lt;/td&gt;
<span class="w"> </span>          &lt;td class=&quot;Table__td--date&quot;&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;
<span class="gi">+          &lt;td class=&quot;Table__td--action&quot;&gt;</span>
<span class="gi">+            &lt;%= link_to t(&#39;customer.messages.index.detail&#39;), customer_message_path(m), class: &#39;btn btn-default btn-xs&#39; %&gt;</span>
<span class="gi">+          &lt;/td&gt;</span>
<span class="w"> </span>        &lt;/tr&gt;
<span class="w"> </span>    &lt;% end %&gt;
<span class="w"> </span>  &lt;/table&gt;
<span class="gh">diff --git a/app/views/customer/messages/show.html.erb b/app/views/customer/messages/show.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..1fc6004</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/messages/show.html.erb</span>
<span class="gu">@@ -0,0 +1,14 @@</span>
<span class="gi">+&lt;section class=&quot;Section&quot;&gt;</span>
<span class="gi">+  &lt;h1 class=&quot;Customer__title&quot;&gt;&lt;%= @title %&gt;&lt;/h1&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
<span class="gi">+</span>
<span class="gi">+&lt;section class=&quot;Section l-column Table CustomerTable&quot;&gt;</span>
<span class="gi">+  &lt;table class=&quot;Table__body Table__body--attributes CustomerTable__body&quot;&gt;</span>
<span class="gi">+    &lt;% p = MessagePresenter.new(@message, self) %&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.sender&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.sender %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.subject&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.subject %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.created_at&#39;) %&gt;&lt;/th&gt;&lt;td class=&quot;Table__td--date&quot;&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+  &lt;/table&gt;</span>
<span class="gi">+</span>
<span class="gi">+  &lt;div class=&quot;Table__body--description&quot;&gt;&lt;%= p.formatted_body %&gt;&lt;/div&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
\ No newline at end of file
<span class="gh">diff --git a/app/views/staff/replies/_message.erb b/app/views/staff/replies/_message.erb</span>
<span class="gh">index fbbb693..b6c7a5f 100644</span>
<span class="gd">--- a/app/views/staff/replies/_message.erb</span>
<span class="gi">+++ b/app/views/staff/replies/_message.erb</span>
<span class="gu">@@ -1,7 +1,7 @@</span>
<span class="gd">-&lt;% p = Staff::MessagePresenter.new(@message, self) %&gt;</span>
<span class="gi">+&lt;% p = MessagePresenter.new(@message, self) %&gt;</span>
<span class="w"> </span>&lt;section class=&quot;Section l-column Table StaffTable&quot;&gt;
<span class="w"> </span>  &lt;table class=&quot;Table__body Table__body--attributes StaffTable__body&quot;&gt;
<span class="gd">-    &lt;% p = Staff::MessagePresenter.new(@message, self) %&gt;</span>
<span class="gi">+    &lt;% p = MessagePresenter.new(@message, self) %&gt;</span>
<span class="w"> </span>    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;staff.replies.new.sender&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.sender %&gt;&lt;/td&gt;&lt;/tr&gt;
<span class="w"> </span>    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;staff.replies.new.subject&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.subject %&gt;&lt;/td&gt;&lt;/tr&gt;
<span class="w"> </span>    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;staff.replies.new.created_at&#39;) %&gt;&lt;/th&gt;&lt;td class=&quot;Table__td--date&quot;&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;&lt;/tr&gt;
<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index 4aafbaf..761bdf3 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -346,6 +346,13 @@ ja:</span>
<span class="w"> </span>        sender: &#39;送信者&#39;
<span class="w"> </span>        subject: &#39;件名&#39;
<span class="w"> </span>        created_at: &#39;作成日時&#39;
<span class="gi">+        action: &#39;アクション&#39;</span>
<span class="gi">+        detail: &#39;詳細&#39;</span>
<span class="gi">+      show:</span>
<span class="gi">+        title: &#39;メッセージ詳細&#39;</span>
<span class="gi">+        sender: &#39;送信者&#39;</span>
<span class="gi">+        subject: &#39;件名&#39;</span>
<span class="gi">+        created_at: &#39;作成日時&#39;</span>
<span class="w"> </span>      new:
<span class="w"> </span>        title: &#39;新規問い合わせ&#39;
<span class="w"> </span>        submit: &#39;確認画面へ進む&#39;
<span class="gh">diff --git a/config/routes.rb b/config/routes.rb</span>
<span class="gh">index a63affc..3270c80 100644</span>
<span class="gd">--- a/config/routes.rb</span>
<span class="gi">+++ b/config/routes.rb</span>
<span class="gu">@@ -84,6 +84,7 @@</span>
<span class="w"> </span>#               customer_messages GET    /messages(.:format)                                  customer/messages#index {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                                 POST   /messages(.:format)                                  customer/messages#create {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#            new_customer_message GET    /messages/new(.:format)                              customer/messages#new {:host=&gt;&quot;0.0.0.0&quot;}
<span class="gi">+#                customer_message GET    /messages/:id(.:format)                              customer/messages#show {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="w"> </span>#                            root GET    /                                                    errors#routing_error
<span class="w"> </span>#                                 GET    /*anything(.:format)                                 errors#routing_error
<span class="w"> </span>#
<span class="gu">@@ -154,7 +155,7 @@ Rails.application.routes.draw do</span>
<span class="w"> </span>          patch :cancel, on: :member
<span class="w"> </span>        end
<span class="w"> </span>      end
<span class="gd">-      resources :messages, only: [ :index, :new, :create ] do</span>
<span class="gi">+      resources :messages, only: [ :index, :show, :new, :create ] do</span>
<span class="w"> </span>        post :confirm, on: :collection
<span class="w"> </span>      end
<span class="w"> </span>    end
</code></pre></div>
<h3 id="_15">構造変更<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="346173e-">コミット: 346173e - 顧客向けメッセージ一覧表示機能の実装<a class="headerlink" href="#346173e-" title="Permanent link">&para;</a></h2>
<h3 id="_16">概要<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<p>顧客が受信したメッセージの一覧を表示する機能を実装しました。これにより、顧客はスタッフから送られたメッセージを一覧で確認できるようになります。また、メッセージ関連のコードをリファクタリングし、スタッフ向けと顧客向けで共通のプレゼンターを使用するように改善しました。</p>
<h3 id="_17">技術的詳細<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<ul>
<li><code>index</code>アクションを実装し、顧客の受信メッセージを取得してページネーション付きで表示</li>
<li>顧客モデルの<code>inbound_messages</code>関連付けを修正（<code>StaffMember</code>から<code>StaffMessage</code>に変更）</li>
<li>メッセージ一覧表示用のビューテンプレートを新規作成</li>
<li>顧客ダッシュボードにメッセージ一覧へのリンクを追加</li>
<li>スタッフ専用のMessagePresenterを共通のMessagePresenterにリファクタリング</li>
<li>ルーティングを更新し、顧客がメッセージ一覧にアクセスできるように設定</li>
</ul>
<h3 id="_18">メッセージ<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>問1 #21
</code></pre></div>
<h3 id="_19">変更されたファイル<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/controllers/customer/messages_controller.rb</li>
<li>M app/models/customer.rb</li>
<li>A app/views/customer/messages/index.html.erb</li>
<li>M app/views/customer/top/dashboard.html.erb</li>
<li>M app/views/staff/messages/index.html.erb</li>
<li>M app/views/staff/messages/show.html.erb</li>
<li>M config/locales/views/ja.yml</li>
<li>M config/routes.rb</li>
</ul>
<h3 id="_20">構造変更<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjUyM3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTUyN3B4O2hlaWdodDo1MjNweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNTI3IDUyMyIgd2lkdGg9IjE1MjdweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzkwMTU7JiMyMzQ1ODsmIzIxNTIxOyYjMTIzNjk7JiMxMjUxMzsmIzEyNDgzOyYjMTI0NzU7JiMxMjU0MDsmIzEyNDcyOyYjMTk5Njg7JiMzNTIzOTsmIzM0OTIwOyYjMzEwMzQ7JiMyNzIzMTsmIzMzMDIxOzwvdGl0bGU+PGRlZnMvPjxnPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDkuOTk5MSIgeD0iNjYwLjE5MTMiIHk9IjI3Ljk5NTEiPiYjMzkwMTU7JiMyMzQ1ODsmIzIxNTIxOyYjMTIzNjk7JiMxMjUxMzsmIzEyNDgzOyYjMTI0NzU7JiMxMjU0MDsmIzEyNDcyOyYjMTk5Njg7JiMzNTIzOTsmIzM0OTIwOyYjMzEwMzQ7JiMyNzIzMTsmIzMzMDIxOzwvdGV4dD48Zz48dGl0bGU+Li48L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSIzMjQuNDYwOSIgd2lkdGg9IjgiIHg9IjE3Ljk5OTkiIHk9IjExOC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iMjEiIHgyPSIyMSIgeTE9IjExOC41OTM4IiB5Mj0iNDQzLjA1NDciLz48L2c+PGc+PHRpdGxlPi4uLi4uLi48L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSIzMjQuNDYwOSIgd2lkdGg9IjgiIHg9IjIzNy4wMDAyIiB5PSIxMTguNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9IjI0MC4wMDA0IiB4Mj0iMjQwLjAwMDQiIHkxPSIxMTguNTkzOCIgeTI9IjQ0My4wNTQ3Ii8+PC9nPjxnPjx0aXRsZT4uLi4uLi4uLi48L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSIzMjQuNDYwOSIgd2lkdGg9IjgiIHg9IjM2NC45OTk3IiB5PSIxMTguNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9IjM2OCIgeDI9IjM2OCIgeTE9IjExOC41OTM4IiB5Mj0iNDQzLjA1NDciLz48L2c+PGc+PHRpdGxlPk1lc3NhZ2VzQ29udHJvbGxlcjwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjMyNC40NjA5IiB3aWR0aD0iOCIgeD0iNTE4Ljk5OTgiIHk9IjExOC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iNTIyLjA4NjciIHgyPSI1MjIuMDg2NyIgeTE9IjExOC41OTM4IiB5Mj0iNDQzLjA1NDciLz48L2c+PGc+PHRpdGxlPkN1c3RvbWVyPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMzI0LjQ2MDkiIHdpZHRoPSI4IiB4PSI2NTguMTI3MyIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI2NjIuMTI1MyIgeDI9IjY2Mi4xMjUzIiB5MT0iMTE4LjU5MzgiIHkyPSI0NDMuMDU0NyIvPjwvZz48Zz48dGl0bGU+U3RhZmZNZXNzYWdlPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMzI0LjQ2MDkiIHdpZHRoPSI4IiB4PSI5NDkuMzEyOCIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI5NTMuMjI2OSIgeDI9Ijk1My4yMjY5IiB5MT0iMTE4LjU5MzgiIHkyPSI0NDMuMDU0NyIvPjwvZz48Zz48dGl0bGU+RGF0YWJhc2U8L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSIzMjQuNDYwOSIgd2lkdGg9IjgiIHg9IjE0ODUuOTgxMyIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIxNDg5LjU4MDkiIHgyPSIxNDg5LjU4MDkiIHkxPSIxMTguNTkzOCIgeTI9IjQ0My4wNTQ3Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLXBhcnRpY2lwYW50PSJDdXN0b21lciI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iNSIgeT0iMTE1LjI5MiI+JiMzOTAxNTsmIzIzNDU4OzwvdGV4dD48ZWxsaXBzZSBjeD0iMjEuOTk5OSIgY3k9IjUwLjc5NjkiIGZpbGw9IiNFMkUyRjAiIHJ4PSI4IiByeT0iOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTIxLjk5OTksNTguNzk2OSBMMjEuOTk5OSw4NS43OTY5IE04Ljk5OTksNjYuNzk2OSBMMzQuOTk5OSw2Ni43OTY5IE0yMS45OTk5LDg1Ljc5NjkgTDguOTk5OSwxMDAuNzk2OSBNMjEuOTk5OSw4NS43OTY5IEwzNC45OTk5LDEwMC43OTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtcGFydGljaXBhbnQ9IkN1c3RvbWVyIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSI1IiB5PSI0NTUuMDQ5OCI+JiMzOTAxNTsmIzIzNDU4OzwvdGV4dD48ZWxsaXBzZSBjeD0iMjEuOTk5OSIgY3k9IjQ2Ni44NTE2IiBmaWxsPSIjRTJFMkYwIiByeD0iOCIgcnk9IjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0yMS45OTk5LDQ3NC44NTE2IEwyMS45OTk5LDUwMS44NTE2IE04Ljk5OTksNDgyLjg1MTYgTDM0Ljk5OTksNDgyLjg1MTYgTTIxLjk5OTksNTAxLjg1MTYgTDguOTk5OSw1MTYuODUxNiBNMjEuOTk5OSw1MDEuODUxNiBMMzQuOTk5OSw1MTYuODUxNiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLXBhcnRpY2lwYW50PSJEYXNoYm9hcmQiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjE4OS4wMDA0IiB5PSIxMTUuMjkyIj4mIzEyNDgwOyYjMTI0ODM7JiMxMjQ3MTsmIzEyNTE3OyYjMTI1MDg7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48cGF0aCBkPSJNMjIwLjUwMDIsNzQuMjk2OSBMMjIwLjUwMDIsOTguMjk2OSBNMjIwLjUwMDIsODYuMjk2OSBMMjM3LjUwMDIsODYuMjk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PGVsbGlwc2UgY3g9IjI0OS41MDAyIiBjeT0iODYuMjk2OSIgZmlsbD0iI0UyRTJGMCIgcng9IjEyIiByeT0iMTIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0iRGFzaGJvYXJkIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIxODkuMDAwNCIgeT0iNDU1LjA0OTgiPiYjMTI0ODA7JiMxMjQ4MzsmIzEyNDcxOyYjMTI1MTc7JiMxMjUwODsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0PjxwYXRoIGQ9Ik0yMjAuNTAwMiw0NjIuMzUxNiBMMjIwLjUwMDIsNDg2LjM1MTYgTTIyMC41MDAyLDQ3NC4zNTE2IEwyMzcuNTAwMiw0NzQuMzUxNiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PGVsbGlwc2UgY3g9IjI0OS41MDAyIiBjeT0iNDc0LjM1MTYiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9Ik1lc3NhZ2VMaXN0Ij48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuOTk5NSIgeD0iMzAzIiB5PSIxMTUuMjkyIj4mIzEyNTEzOyYjMTI0ODM7JiMxMjQ3NTsmIzEyNTQwOyYjMTI0NzI7JiMxOTk2ODsmIzM1MjM5OyYjMzAwMTE7JiMzODc1NDs8L3RleHQ+PHBhdGggZD0iTTM0OC40OTk3LDc0LjI5NjkgTDM0OC40OTk3LDk4LjI5NjkgTTM0OC40OTk3LDg2LjI5NjkgTDM2NS40OTk3LDg2LjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxlbGxpcHNlIGN4PSIzNzcuNDk5NyIgY3k9Ijg2LjI5NjkiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtcGFydGljaXBhbnQ9Ik1lc3NhZ2VMaXN0Ij48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuOTk5NSIgeD0iMzAzIiB5PSI0NTUuMDQ5OCI+JiMxMjUxMzsmIzEyNDgzOyYjMTI0NzU7JiMxMjU0MDsmIzEyNDcyOyYjMTk5Njg7JiMzNTIzOTsmIzMwMDExOyYjMzg3NTQ7PC90ZXh0PjxwYXRoIGQ9Ik0zNDguNDk5Nyw0NjIuMzUxNiBMMzQ4LjQ5OTcsNDg2LjM1MTYgTTM0OC40OTk3LDQ3NC4zNTE2IEwzNjUuNDk5Nyw0NzQuMzUxNiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PGVsbGlwc2UgY3g9IjM3Ny40OTk3IiBjeT0iNDc0LjM1MTYiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9IkNvbnRyb2xsZXIiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNy44MjYyIiB4PSI0NTEuMDg2NyIgeT0iMTE1LjI5MiI+TWVzc2FnZXNDb250cm9sbGVyPC90ZXh0PjxlbGxpcHNlIGN4PSI1MjIuOTk5OCIgY3k9Ijg2LjI5NjkiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUxOC45OTk4LDc0LjI5NjksNTI0Ljk5OTgsNjkuMjk2OSw1MjIuOTk5OCw3NC4yOTY5LDUyNC45OTk4LDc5LjI5NjksNTE4Ljk5OTgsNzQuMjk2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0iQ29udHJvbGxlciI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM3LjgyNjIiIHg9IjQ1MS4wODY3IiB5PSI0NTUuMDQ5OCI+TWVzc2FnZXNDb250cm9sbGVyPC90ZXh0PjxlbGxpcHNlIGN4PSI1MjIuOTk5OCIgY3k9IjQ3NC4zNTE2IiBmaWxsPSIjRTJFMkYwIiByeD0iMTIiIHJ5PSIxMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1MTguOTk5OCw0NjIuMzUxNiw1MjQuOTk5OCw0NTcuMzUxNiw1MjIuOTk5OCw0NjIuMzUxNiw1MjQuOTk5OCw0NjcuMzUxNiw1MTguOTk5OCw0NjIuMzUxNiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0iQ3VzdG9tZXJNb2RlbCI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjguMDAzOSIgeD0iNjI1LjEyNTMiIHk9IjExNS4yOTIiPkN1c3RvbWVyPC90ZXh0PjxlbGxpcHNlIGN4PSI2NjIuMTI3MyIgY3k9Ijg2LjI5NjkiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI2NTAuMTI3MyIgeDI9IjY3NC4xMjczIiB5MT0iMTAwLjI5NjkiIHkyPSIxMDAuMjk2OSIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0iQ3VzdG9tZXJNb2RlbCI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjguMDAzOSIgeD0iNjI1LjEyNTMiIHk9IjQ1NS4wNDk4Ij5DdXN0b21lcjwvdGV4dD48ZWxsaXBzZSBjeD0iNjYyLjEyNzMiIGN5PSI0NzQuMzUxNiIgZmlsbD0iI0UyRTJGMCIgcng9IjEyIiByeT0iMTIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjY1MC4xMjczIiB4Mj0iNjc0LjEyNzMiIHkxPSI0ODguMzUxNiIgeTI9IjQ4OC4zNTE2Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLXBhcnRpY2lwYW50PSJNZXNzYWdlIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC4xNzE5IiB4PSI5MDMuMjI2OSIgeT0iMTE1LjI5MiI+U3RhZmZNZXNzYWdlPC90ZXh0PjxlbGxpcHNlIGN4PSI5NTMuMzEyOCIgY3k9Ijg2LjI5NjkiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI5NDEuMzEyOCIgeDI9Ijk2NS4zMTI4IiB5MT0iMTAwLjI5NjkiIHkyPSIxMDAuMjk2OSIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0iTWVzc2FnZSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTQuMTcxOSIgeD0iOTAzLjIyNjkiIHk9IjQ1NS4wNDk4Ij5TdGFmZk1lc3NhZ2U8L3RleHQ+PGVsbGlwc2UgY3g9Ijk1My4zMTI4IiBjeT0iNDc0LjM1MTYiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI5NDEuMzEyOCIgeDI9Ijk2NS4zMTI4IiB5MT0iNDg4LjM1MTYiIHkyPSI0ODguMzUxNiIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0iREIiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY2LjgwMDgiIHg9IjE0NTMuNTgwOSIgeT0iMTE1LjI5MiI+RGF0YWJhc2U8L3RleHQ+PHBhdGggZD0iTTE0NzEuOTgxMyw2Ni4yOTY5IEMxNDcxLjk4MTMsNTYuMjk2OSAxNDg5Ljk4MTMsNTYuMjk2OSAxNDg5Ljk4MTMsNTYuMjk2OSBDMTQ4OS45ODEzLDU2LjI5NjkgMTUwNy45ODEzLDU2LjI5NjkgMTUwNy45ODEzLDY2LjI5NjkgTDE1MDcuOTgxMyw5Mi4yOTY5IEMxNTA3Ljk4MTMsMTAyLjI5NjkgMTQ4OS45ODEzLDEwMi4yOTY5IDE0ODkuOTgxMywxMDIuMjk2OSBDMTQ4OS45ODEzLDEwMi4yOTY5IDE0NzEuOTgxMywxMDIuMjk2OSAxNDcxLjk4MTMsOTIuMjk2OSBMMTQ3MS45ODEzLDY2LjI5NjkiIGZpbGw9IiNFMkUyRjAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0xNDcxLjk4MTMsNjYuMjk2OSBDMTQ3MS45ODEzLDc2LjI5NjkgMTQ4OS45ODEzLDc2LjI5NjkgMTQ4OS45ODEzLDc2LjI5NjkgQzE0ODkuOTgxMyw3Ni4yOTY5IDE1MDcuOTgxMyw3Ni4yOTY5IDE1MDcuOTgxMyw2Ni4yOTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtcGFydGljaXBhbnQ9IkRCIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ni44MDA4IiB4PSIxNDUzLjU4MDkiIHk9IjQ1NS4wNDk4Ij5EYXRhYmFzZTwvdGV4dD48cGF0aCBkPSJNMTQ3MS45ODEzLDQ2OC4zNTE2IEMxNDcxLjk4MTMsNDU4LjM1MTYgMTQ4OS45ODEzLDQ1OC4zNTE2IDE0ODkuOTgxMyw0NTguMzUxNiBDMTQ4OS45ODEzLDQ1OC4zNTE2IDE1MDcuOTgxMyw0NTguMzUxNiAxNTA3Ljk4MTMsNDY4LjM1MTYgTDE1MDcuOTgxMyw0OTQuMzUxNiBDMTUwNy45ODEzLDUwNC4zNTE2IDE0ODkuOTgxMyw1MDQuMzUxNiAxNDg5Ljk4MTMsNTA0LjM1MTYgQzE0ODkuOTgxMyw1MDQuMzUxNiAxNDcxLjk4MTMsNTA0LjM1MTYgMTQ3MS45ODEzLDQ5NC4zNTE2IEwxNDcxLjk4MTMsNDY4LjM1MTYiIGZpbGw9IiNFMkUyRjAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0xNDcxLjk4MTMsNDY4LjM1MTYgQzE0NzEuOTgxMyw0NzguMzUxNiAxNDg5Ljk4MTMsNDc4LjM1MTYgMTQ4OS45ODEzLDQ3OC4zNTE2IEMxNDg5Ljk4MTMsNDc4LjM1MTYgMTUwNy45ODEzLDQ3OC4zNTE2IDE1MDcuOTgxMyw0NjguMzUxNiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9IkN1c3RvbWVyIiBkYXRhLXBhcnRpY2lwYW50LTI9IkRhc2hib2FyZCI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMjkuMDAwMiwxNDUuNzI2NiwyMzkuMDAwMiwxNDkuNzI2NiwyMjkuMDAwMiwxNTMuNzI2NiwyMzMuMDAwMiwxNDkuNzI2NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMS45OTk5IiB4Mj0iMjM1LjAwMDIiIHkxPSIxNDkuNzI2NiIgeTI9IjE0OS43MjY2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTk1LjAwMDIiIHg9IjI4Ljk5OTkiIHk9IjE0NC42NjA2Ij4mIzEyNTEzOyYjMTI0ODM7JiMxMjQ3NTsmIzEyNTQwOyYjMTI0NzI7JiMxOTk2ODsmIzM1MjM5OyYjMTI1MjI7JiMxMjUzMTsmIzEyNDYzOyYjMTI0MzQ7JiMxMjQ2MzsmIzEyNTIyOyYjMTI0ODM7JiMxMjQ2Mzs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9IkRhc2hib2FyZCIgZGF0YS1wYXJ0aWNpcGFudC0yPSJDb250cm9sbGVyIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUxMC45OTk4LDE3NC44NTk0LDUyMC45OTk4LDE3OC44NTk0LDUxMC45OTk4LDE4Mi44NTk0LDUxNC45OTk4LDE3OC44NTk0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI0MS4wMDAyIiB4Mj0iNTE2Ljk5OTgiIHkxPSIxNzguODU5NCIgeTI9IjE3OC44NTk0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTkuOTM3NSIgeD0iMjQ4LjAwMDIiIHk9IjE3My43OTM1Ij5HRVQgL21lc3NhZ2VzPC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJDb250cm9sbGVyIiBkYXRhLXBhcnRpY2lwYW50LTI9IkN1c3RvbWVyTW9kZWwiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjUwLjEyNzMsMjAzLjk5MjIsNjYwLjEyNzMsMjA3Ljk5MjIsNjUwLjEyNzMsMjExLjk5MjIsNjU0LjEyNzMsMjA3Ljk5MjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTIyLjk5OTgiIHgyPSI2NTYuMTI3MyIgeTE9IjIwNy45OTIyIiB5Mj0iMjA3Ljk5MjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTUuMTI3NCIgeD0iNTI5Ljk5OTgiIHk9IjIwMi45MjYzIj5jdXJyZW50X2N1c3RvbWVyPC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJDdXN0b21lck1vZGVsIiBkYXRhLXBhcnRpY2lwYW50LTI9Ik1lc3NhZ2UiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iOTQxLjMxMjgsMjMzLjEyNSw5NTEuMzEyOCwyMzcuMTI1LDk0MS4zMTI4LDI0MS4xMjUsOTQ1LjMxMjgsMjM3LjEyNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2NjIuMTI3MyIgeDI9Ijk0Ny4zMTI4IiB5MT0iMjM3LjEyNSIgeTI9IjIzNy4xMjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNjcuMTg1NSIgeD0iNjY5LjEyNzMiIHk9IjIzMi4wNTkxIj5pbmJvdW5kX21lc3NhZ2VzLnBhZ2UocGFyYW1zWzpwYWdlXSk8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9Ik1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMj0iREIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTQ3Ny45ODEzLDI2Mi4yNTc4LDE0ODcuOTgxMywyNjYuMjU3OCwxNDc3Ljk4MTMsMjcwLjI1NzgsMTQ4MS45ODEzLDI2Ni4yNTc4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijk1My4zMTI4IiB4Mj0iMTQ4My45ODEzIiB5MT0iMjY2LjI1NzgiIHkyPSIyNjYuMjU3OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUxMi42Njg1IiB4PSI5NjAuMzEyOCIgeT0iMjYxLjE5MTkiPlNFTEVDVCAqIEZST00gbWVzc2FnZXMgV0hFUkUgY3VzdG9tZXJfaWQgPSA/IEFORCB0eXBlID0gJ1N0YWZmTWVzc2FnZSc8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9IkRCIiBkYXRhLXBhcnRpY2lwYW50LTI9IkNvbnRyb2xsZXIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTMzLjk5OTgsMjkxLjM5MDYsNTIzLjk5OTgsMjk1LjM5MDYsNTMzLjk5OTgsMjk5LjM5MDYsNTI5Ljk5OTgsMjk1LjM5MDYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTI3Ljk5OTgiIHgyPSIxNDg4Ljk4MTMiIHkxPSIyOTUuMzkwNiIgeTI9IjI5NS4zOTA2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQzLjAwMDIiIHg9IjUzOS45OTk4IiB5PSIyOTAuMzI0NyI+JiMxMjUxMzsmIzEyNDgzOyYjMTI0NzU7JiMxMjU0MDsmIzEyNDcyOyYjMTI0Njc7JiMxMjUyNDsmIzEyNDYzOyYjMTI0NzE7JiMxMjUxOTsmIzEyNTMxOzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iQ29udHJvbGxlciIgZGF0YS1wYXJ0aWNpcGFudC0yPSJNZXNzYWdlTGlzdCI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNzkuOTk5NywzMjAuNTIzNCwzNjkuOTk5NywzMjQuNTIzNCwzNzkuOTk5NywzMjguNTIzNCwzNzUuOTk5NywzMjQuNTIzNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNzMuOTk5NyIgeDI9IjUyMS45OTk4IiB5MT0iMzI0LjUyMzQiIHkyPSIzMjQuNTIzNCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC4wMDAyIiB4PSIzODUuOTk5NyIgeT0iMzE5LjQ1NzUiPiYjMTI1MTM7JiMxMjQ4MzsmIzEyNDc1OyYjMTI1NDA7JiMxMjQ3MjsmIzE5OTY4OyYjMzUyMzk7JiMxMjQzNDsmIzM0OTIwOyYjMzEwMzQ7PC90ZXh0PjwvZz48cGF0aCBkPSJNNjY3LDMzNy41MjM0IEw2NjcsMzc3LjUyMzQgTDkyMCwzNzcuNTIzNCBMOTIwLDM0Ny41MjM0IEw5MTAsMzM3LjUyMzQgTDY2NywzMzcuNTIzNCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTkxMCwzMzcuNTIzNCBMOTEwLDM0Ny41MjM0IEw5MjAsMzQ3LjUyMzQgTDkxMCwzMzcuNTIzNCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjMyLjg2MzkiIHg9IjY3MyIgeT0iMzU0LjU5MDMiPmluYm91bmRfbWVzc2FnZXMmIzEyMzk4OyYjMzgzMDY7JiMzNjg5OTsmIzIwMTg0OyYjMTIzNjk7JiMxMjQzNDsmIzIwNDYyOyYjMjc0OTE7OjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTAuNTQzOSIgeD0iNjczIiB5PSIzNjkuNzIzMSI+U3RhZmZNZW1iZXIgJiM4NTk0OyBTdGFmZk1lc3NhZ2U8L3RleHQ+PHBhdGggZD0iTTM3MywzODcuNzg5MSBMMzczLDQyNy43ODkxIEw2MTcsNDI3Ljc4OTEgTDYxNywzOTcuNzg5MSBMNjA3LDM4Ny43ODkxIEwzNzMsMzg3Ljc4OTEiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik02MDcsMzg3Ljc4OTEgTDYwNywzOTcuNzg5MSBMNjE3LDM5Ny43ODkxIEw2MDcsMzg3Ljc4OTEiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyMy42MDkiIHg9IjM3OSIgeT0iNDA0Ljg1NiI+JiMyMDg0OTsmIzM2ODkwOyYjMTIzOTg7TWVzc2FnZVByZXNlbnRlciYjMTI0MzQ7JiMyMDM1MTsmIzI5OTkyOyYjMTIzNzU7JiMxMjM5MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUuMDAwMSIgeD0iMzc5IiB5PSI0MTkuOTg4OCI+JiMzNDkyMDsmIzMxMDM0OyYjMTI0MzQ7JiMyNTk3MjsmIzI0NDE4OzwvdGV4dD48IS0tU1JDPVtUTERUUW5EMTU3c1ZOdDdQYndnV2xZLWVjNkpMWHFRYkJWV1c0WVJQSVJrR3g4UVBvS0ZWYVhxS1ZCRVhyTDhLSVFmajVLc0gyMVBadzd6bnloTl9tZmR6STNQQlZIZHN0aGR0ZDdsRXRFS0VobjQ4a2dVSlZjX29QYS1zendKZUlZNmFGdkpZWl9HbG5YVWotU2RmbDdpcy1fSHgta05aTjhtR21YTmtLSjJZQldDbVd0b0pTUXpFQTJmeEpUVjZUMVNDQUxlWHBZeWZGYWxuTmdFOXJzNW4wUkVUaWVVZmxMOXoxVWppVm5YeVkwWUFYMzZ5SlRPVG5iNzVTcGRyUWMzNElQUUY0WkwyZXM0TThJOGtUeFkySi1QUjZSUmVzUUlzQURkYWs1Z0Q0VEVLb0NPU2JwNFpPMUpZaHFYNTNnNDQyTXhVTlFlb3VLZW5LZG9MT1kzelMtYnR6QWIzTE5FRTVlcVFQSmN4MkctakJSWFRacE1ZdktyT2J6UFdHZ0w5Z0g5SWdZSmxpN0FsNnM4cjlaWGt3N2VmMFJ4TEtFVXIxZ1F1cGZ3UkVkWG43U05MZVF3UzJQbE1rZk5WV1hsbU9FRDk0UDlFVUZSOHNoMFd1SW12RGpvMVV0M19TRzd1UmVFZU8ycmp3WGVndkI4SUNxdjlWbzM1anowWmpKUkFpYTU2VGNlRF9jVXB0dWNNNUk3TnVtSWVpeHQzbVFqY05adGhXY3B0V3hVemU3S3k3WHhnZHkzbFoyX3hxLV83OWVlYnJDamdXaC1sRWYyTWY5UjcxYXNKOUtrbHctSmJadzFyZjBaWXY1REFjN2VoR1pOOXc3QXNWb1JSeHNKeDE0THBnLXBxdUVUYXI1azBfbUMwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_21">変更内容<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 346173e6d35656056ee64a02738f8aec563456e1
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Mar 27 18:25:09 2017 +0900

<span class="w"> </span>   問1 #21

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 267bd7f..a7d1c40 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -789,6 +789,7 @@ git push heroku master</span>
<span class="w"> </span>+ 排他制御のための専用テーブルを作る

<span class="w"> </span>#### 演習問題  
<span class="gi">++ 問１</span>

<span class="w"> </span>**[⬆ back to top](#構成)**

<span class="gh">diff --git a/app/controllers/customer/messages_controller.rb b/app/controllers/customer/messages_controller.rb</span>
<span class="gh">index 3b0c70e..5044849 100644</span>
<span class="gd">--- a/app/controllers/customer/messages_controller.rb</span>
<span class="gi">+++ b/app/controllers/customer/messages_controller.rb</span>
<span class="gu">@@ -1,4 +1,8 @@</span>
<span class="w"> </span>class Customer::MessagesController &lt; Customer::Base
<span class="gi">+  def index</span>
<span class="gi">+    @messages = current_customer.inbound_messages.page(params[:page])</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="w"> </span>  def new
<span class="w"> </span>    @message = CustomerMessage.new
<span class="w"> </span>  end
<span class="gh">diff --git a/app/models/customer.rb b/app/models/customer.rb</span>
<span class="gh">index 1b01fa2..6c97b91 100644</span>
<span class="gd">--- a/app/models/customer.rb</span>
<span class="gi">+++ b/app/models/customer.rb</span>
<span class="gu">@@ -48,7 +48,7 @@ class Customer &lt; ApplicationRecord</span>
<span class="w"> </span>  has_many :programs, through: :entries
<span class="w"> </span>  has_many :messages
<span class="w"> </span>  has_many :outbound_messages, class_name: &#39;CustomerMessage&#39;, foreign_key: &#39;customer_id&#39;
<span class="gd">-  has_many :inbound_messages, class_name: &#39;StaffMember&#39;, foreign_key: &#39;customer_id&#39;</span>
<span class="gi">+  has_many :inbound_messages, class_name: &#39;StaffMessage&#39;, foreign_key: &#39;customer_id&#39;</span>

<span class="w"> </span>  validates :gender, inclusion: { in: %w(male female), allow_blank: true }
<span class="w"> </span>  validates :birthday, date: {
<span class="gh">diff --git a/app/presenters/staff/message_presenter.rb b/app/presenters/message_presenter.rb</span>
similarity index 97%
rename from app/presenters/staff/message_presenter.rb
rename to app/presenters/message_presenter.rb
<span class="gh">index 0a77e7d..207ec97 100644</span>
<span class="gd">--- a/app/presenters/staff/message_presenter.rb</span>
<span class="gi">+++ b/app/presenters/message_presenter.rb</span>
<span class="gu">@@ -1,4 +1,4 @@</span>
<span class="gd">-class Staff::MessagePresenter &lt; ModelPresenter</span>
<span class="gi">+class MessagePresenter &lt; ModelPresenter</span>
<span class="w"> </span>  delegate :subject, :body, to: :object

<span class="w"> </span>  def type
<span class="gh">diff --git a/app/views/customer/messages/index.html.erb b/app/views/customer/messages/index.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..130fd34</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/messages/index.html.erb</span>
<span class="gu">@@ -0,0 +1,25 @@</span>
<span class="gi">+&lt;section class=&quot;Section&quot;&gt;</span>
<span class="gi">+  &lt;h1 class=&quot;Staff__title&quot;&gt;&lt;%= @title %&gt;&lt;/h1&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
<span class="gi">+</span>
<span class="gi">+&lt;section class=&quot;Section l-column Table&quot;&gt;</span>
<span class="gi">+  &lt;%= paginate @messages %&gt;</span>
<span class="gi">+</span>
<span class="gi">+  &lt;table class=&quot;Table__body Table__body--listing StaffTable__body&quot;&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;</span>
<span class="gi">+      &lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;customer.messages.index.sender&#39;) %&gt;&lt;/th&gt;</span>
<span class="gi">+      &lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;customer.messages.index.subject&#39;) %&gt;&lt;/th&gt;</span>
<span class="gi">+      &lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;customer.messages.index.created_at&#39;) %&gt;&lt;/th&gt;</span>
<span class="gi">+    &lt;/tr&gt;</span>
<span class="gi">+    &lt;% @messages.each do |m| %&gt;</span>
<span class="gi">+        &lt;% p = MessagePresenter.new(m, self) %&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;</span>
<span class="gi">+          &lt;td class=&quot;Table__td&quot;&gt;&lt;%= p.sender %&gt;&lt;/td&gt;</span>
<span class="gi">+          &lt;td class=&quot;Table__td&quot;&gt;&lt;%= p.truncated_subject %&gt;&lt;/td&gt;</span>
<span class="gi">+          &lt;td class=&quot;Table__td--date&quot;&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;</span>
<span class="gi">+        &lt;/tr&gt;</span>
<span class="gi">+    &lt;% end %&gt;</span>
<span class="gi">+  &lt;/table&gt;</span>
<span class="gi">+</span>
<span class="gi">+  &lt;%= paginate @messages %&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
\ No newline at end of file
<span class="gh">diff --git a/app/views/customer/top/dashboard.html.erb b/app/views/customer/top/dashboard.html.erb</span>
<span class="gh">index 933e904..c1db441 100644</span>
<span class="gd">--- a/app/views/customer/top/dashboard.html.erb</span>
<span class="gi">+++ b/app/views/customer/top/dashboard.html.erb</span>
<span class="gu">@@ -30,5 +30,6 @@</span>
<span class="w"> </span>&lt;section class=&quot;Section l-column DashBoard&quot;&gt;
<span class="w"> </span>  &lt;ul class=&quot;DashBoard__menu&quot;&gt;
<span class="w"> </span>    &lt;li&gt;&lt;%= link_to t(&#39;.customer_programs&#39;), :customer_programs, class: &#39;btn btn-default&#39; %&gt;&lt;/li&gt;
<span class="gi">+    &lt;li&gt;&lt;%= link_to t(&#39;.customer_messages&#39;), :customer_messages, class: &#39;btn btn-default&#39; %&gt;&lt;/li&gt;</span>
<span class="w"> </span>  &lt;/ul&gt;
<span class="w"> </span>&lt;/section&gt;
\ No newline at end of file
<span class="gh">diff --git a/app/views/staff/messages/index.html.erb b/app/views/staff/messages/index.html.erb</span>
<span class="gh">index 29fcdac..e97b4a1 100644</span>
<span class="gd">--- a/app/views/staff/messages/index.html.erb</span>
<span class="gi">+++ b/app/views/staff/messages/index.html.erb</span>
<span class="gu">@@ -24,7 +24,7 @@</span>
<span class="w"> </span>      &lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;staff.messages.index.action&#39;) %&gt;&lt;/th&gt;
<span class="w"> </span>    &lt;/tr&gt;
<span class="w"> </span>    &lt;% @messages.each do |m| %&gt;
<span class="gd">-        &lt;% p = Staff::MessagePresenter.new(m, self) %&gt;</span>
<span class="gi">+        &lt;% p = MessagePresenter.new(m, self) %&gt;</span>
<span class="w"> </span>        &lt;tr class=&quot;Table__tr&quot;&gt;
<span class="w"> </span>          &lt;td class=&quot;Table__td&quot;&gt;&lt;%= p.type %&gt;&lt;/td&gt;
<span class="w"> </span>          &lt;td class=&quot;Table__td&quot;&gt;&lt;%= p.sender %&gt;&lt;/td&gt;
<span class="gh">diff --git a/app/views/staff/messages/show.html.erb b/app/views/staff/messages/show.html.erb</span>
<span class="gh">index a2d7653..8dec7ec 100644</span>
<span class="gd">--- a/app/views/staff/messages/show.html.erb</span>
<span class="gi">+++ b/app/views/staff/messages/show.html.erb</span>
<span class="gu">@@ -11,7 +11,7 @@</span>
<span class="w"> </span>          &lt;%= link_to t(&#39;.reply&#39;), new_staff_message_reply_path(@message), class:&#39;btn btn-default&#39; %&gt;
<span class="w"> </span>        &lt;/div&gt;
<span class="w"> </span>    &lt;% end %&gt;
<span class="gd">-    &lt;% p = Staff::MessagePresenter.new(@message, self) %&gt;</span>
<span class="gi">+    &lt;% p = MessagePresenter.new(@message, self) %&gt;</span>
<span class="w"> </span>    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.type&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.type %&gt;&lt;/td&gt;&lt;/tr&gt;
<span class="w"> </span>    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.sender&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.sender %&gt;&lt;/td&gt;&lt;/tr&gt;
<span class="w"> </span>    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.receiver&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.receiver %&gt;&lt;/td&gt;&lt;/tr&gt;
<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index efba53a..4aafbaf 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -276,6 +276,7 @@ ja:</span>
<span class="w"> </span>      dashboard:
<span class="w"> </span>        title: &#39;ダッシュボード&#39;
<span class="w"> </span>        customer_programs: &#39;プログラム一覧&#39;
<span class="gi">+        customer_messages: &#39;受信メッセージ一覧&#39;</span>
<span class="w"> </span>    programs:
<span class="w"> </span>      index:
<span class="w"> </span>        title: &#39;プログラム管理&#39;
<span class="gu">@@ -341,6 +342,10 @@ ja:</span>
<span class="w"> </span>        update: &#39;更新&#39;
<span class="w"> </span>        correct: &#39;訂正&#39;
<span class="w"> </span>    messages:
<span class="gi">+      index:</span>
<span class="gi">+        sender: &#39;送信者&#39;</span>
<span class="gi">+        subject: &#39;件名&#39;</span>
<span class="gi">+        created_at: &#39;作成日時&#39;</span>
<span class="w"> </span>      new:
<span class="w"> </span>        title: &#39;新規問い合わせ&#39;
<span class="w"> </span>        submit: &#39;確認画面へ進む&#39;
<span class="gh">diff --git a/config/routes.rb b/config/routes.rb</span>
<span class="gh">index 3b44fdd..a63affc 100644</span>
<span class="gd">--- a/config/routes.rb</span>
<span class="gi">+++ b/config/routes.rb</span>
<span class="gu">@@ -81,7 +81,8 @@</span>
<span class="w"> </span>#               customer_programs GET    /programs(.:format)                                  customer/programs#index {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                customer_program GET    /programs/:id(.:format)                              customer/programs#show {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#       confirm_customer_messages POST   /messages/confirm(.:format)                          customer/messages#confirm {:host=&gt;&quot;0.0.0.0&quot;}
<span class="gd">-#               customer_messages POST   /messages(.:format)                                  customer/messages#create {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="gi">+#               customer_messages GET    /messages(.:format)                                  customer/messages#index {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="gi">+#                                 POST   /messages(.:format)                                  customer/messages#create {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="w"> </span>#            new_customer_message GET    /messages/new(.:format)                              customer/messages#new {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                            root GET    /                                                    errors#routing_error
<span class="w"> </span>#                                 GET    /*anything(.:format)                                 errors#routing_error
<span class="gu">@@ -153,7 +154,7 @@ Rails.application.routes.draw do</span>
<span class="w"> </span>          patch :cancel, on: :member
<span class="w"> </span>        end
<span class="w"> </span>      end
<span class="gd">-      resources :messages, only: [ :new, :create ] do</span>
<span class="gi">+      resources :messages, only: [ :index, :new, :create ] do</span>
<span class="w"> </span>        post :confirm, on: :collection
<span class="w"> </span>      end
<span class="w"> </span>    end
</code></pre></div>
<h3 id="_22">構造変更<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="6d6f908-">コミット: 6d6f908 - タグ付け機能のための排他制御の実装<a class="headerlink" href="#6d6f908-" title="Permanent link">&para;</a></h2>
<h3 id="_23">概要<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<p>タグの追加・削除処理における競合状態（race condition）を解決するため、排他制御のための専用テーブル（HashLock）を実装しました。これにより、複数のユーザーが同時に同じタグを操作した場合でも、データの整合性が保たれるようになります。</p>
<h3 id="_24">技術的詳細<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h3>
<ul>
<li>排他制御用の<code>hash_locks</code>テーブルを作成</li>
<li><code>HashLock</code>モデルを実装し、テーブル名・カラム名・キーの組み合わせによるロック機能を提供</li>
<li>メッセージのタグ追加・削除メソッドにロック処理を追加</li>
<li>MD5ハッシュの先頭2文字を使用して、256種類のロックキーを生成</li>
<li>シードデータとして256個のロックレコードを事前に作成</li>
<li>データベースのスキーマ設定を調整（照合順序の変更）</li>
</ul>
<h3 id="_25">メッセージ<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>排他制御のための専用テーブルを作る #21
</code></pre></div>
<h3 id="_26">変更されたファイル<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>A app/models/hash_lock.rb</li>
<li>M app/models/message.rb</li>
<li>A db/migrate/20170327081649_create_hash_locks.rb</li>
<li>M db/schema.rb</li>
<li>A db/seed/hash_locks.rb</li>
<li>M db/seeds.rb</li>
<li>A spec/factories/hash_locks.rb</li>
<li>A spec/models/hash_lock_spec.rb</li>
</ul>
<h3 id="_27">構造変更<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9Ijc2NnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6OTM5cHg7aGVpZ2h0Ojc2NnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDkzOSA3NjYiIHdpZHRoPSI5MzlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI0Nzk7JiMxMjQ2NDsmIzIwMTg0OyYjMTIzNjk7JiMyNzIzMTsmIzMzMDIxOyYjMTIzOTg7JiMxMjM4MzsmIzEyNDE3OyYjMTIzOTg7JiMyNTQ5MDsmIzIwMTgyOyYjMjEwNDY7JiMyNDQ4MTsmIzEyNTEzOyYjMTI0NTk7JiMxMjQ5MTsmIzEyNDc0OyYjMTI1MTI7PC90aXRsZT48ZGVmcy8+PGc+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2NS45OTg4IiB4PSIzMzcuODI5OCIgeT0iMjcuOTk1MSI+JiMxMjQ3OTsmIzEyNDY0OyYjMjAxODQ7JiMxMjM2OTsmIzI3MjMxOyYjMzMwMjE7JiMxMjM5ODsmIzEyMzgzOyYjMTI0MTc7JiMxMjM5ODsmIzI1NDkwOyYjMjAxODI7JiMyMTA0NjsmIzI0NDgxOyYjMTI1MTM7JiMxMjQ1OTsmIzEyNDkxOyYjMTI0NzQ7JiMxMjUxMjs8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI3NS4zOTg0IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI2MjkuNzgzMiIgeD0iMjA2LjI3NTUiIHk9IjM5NS43ODkxIi8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI3NS4zOTg0IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI2MjkuNzgzMiIgeD0iMjA2LjI3NTUiIHk9IjU0My40NTMxIi8+PGc+PHRpdGxlPi4uLi4xPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iNTY3LjUyMzQiIHdpZHRoPSI4IiB4PSIzNi40NTM1IiB5PSIxMTguNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9IjQwIiB4Mj0iNDAiIHkxPSIxMTguNTkzOCIgeTI9IjY4Ni4xMTcyIi8+PC9nPjxnPjx0aXRsZT4uLi4uMjwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjU2Ny41MjM0IiB3aWR0aD0iOCIgeD0iMTE3LjM2MDUiIHk9IjExOC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iMTIwLjkwNyIgeDI9IjEyMC45MDciIHkxPSIxMTguNTkzOCIgeTI9IjY4Ni4xMTcyIi8+PC9nPjxnPjx0aXRsZT5NZXNzYWdlLmFkZF90YWc8L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSI1NjcuNTIzNCIgd2lkdGg9IjgiIHg9IjI3OS45NzQyIiB5PSIxMTguNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9IjI4My4yNzU1IiB4Mj0iMjgzLjI3NTUiIHkxPSIxMTguNTkzOCIgeTI9IjY4Ni4xMTcyIi8+PC9nPjxnPjx0aXRsZT5IYXNoTG9jazwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjU2Ny41MjM0IiB3aWR0aD0iOCIgeD0iNTI4LjQ3MTgiIHk9IjExOC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iNTMxLjc1MDEiIHgyPSI1MzEuNzUwMSIgeTE9IjExOC41OTM4IiB5Mj0iNjg2LjExNzIiLz48L2c+PGc+PHRpdGxlPlRhZzwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjU2Ny41MjM0IiB3aWR0aD0iOCIgeD0iNTkxLjIwMjMiIHk9IjExOC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iNTk1LjE5MzUiIHgyPSI1OTUuMTkzNSIgeTE9IjExOC41OTM4IiB5Mj0iNjg2LjExNzIiLz48L2c+PGc+PHRpdGxlPk1lc3NhZ2VUYWdMaW5rPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iNTY3LjUyMzQiIHdpZHRoPSI4IiB4PSI2NzguMjM0NSIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI2ODIuMjExMSIgeDI9IjY4Mi4yMTExIiB5MT0iMTE4LjU5MzgiIHkyPSI2ODYuMTE3MiIvPjwvZz48Zz48dGl0bGU+RGF0YWJhc2U8L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSI1NjcuNTIzNCIgd2lkdGg9IjgiIHg9Ijc4NS42NTgzIiB5PSIxMTguNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9Ijc4OS4yNTc5IiB4Mj0iNzg5LjI1NzkiIHkxPSIxMTguNTkzOCIgeTI9IjY4Ni4xMTcyIi8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLXBhcnRpY2lwYW50PSJVc2VyMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjQuOTA3IiB4PSI1IiB5PSIxMTUuMjkyIj4mIzEyNTE4OyYjMTI1NDA7JiMxMjQ3MDsmIzEyNTQwOzE8L3RleHQ+PGVsbGlwc2UgY3g9IjQwLjQ1MzUiIGN5PSI1MC43OTY5IiBmaWxsPSIjRTJFMkYwIiByeD0iOCIgcnk9IjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik00MC40NTM1LDU4Ljc5NjkgTDQwLjQ1MzUsODUuNzk2OSBNMjcuNDUzNSw2Ni43OTY5IEw1My40NTM1LDY2Ljc5NjkgTTQwLjQ1MzUsODUuNzk2OSBMMjcuNDUzNSwxMDAuNzk2OSBNNDAuNDUzNSw4NS43OTY5IEw1My40NTM1LDEwMC43OTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtcGFydGljaXBhbnQ9IlVzZXIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NC45MDciIHg9IjUiIHk9IjY5OC4xMTIzIj4mIzEyNTE4OyYjMTI1NDA7JiMxMjQ3MDsmIzEyNTQwOzE8L3RleHQ+PGVsbGlwc2UgY3g9IjQwLjQ1MzUiIGN5PSI3MDkuOTE0MSIgZmlsbD0iI0UyRTJGMCIgcng9IjgiIHJ5PSI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNDAuNDUzNSw3MTcuOTE0MSBMNDAuNDUzNSw3NDQuOTE0MSBNMjcuNDUzNSw3MjUuOTE0MSBMNTMuNDUzNSw3MjUuOTE0MSBNNDAuNDUzNSw3NDQuOTE0MSBMMjcuNDUzNSw3NTkuOTE0MSBNNDAuNDUzNSw3NDQuOTE0MSBMNTMuNDUzNSw3NTkuOTE0MSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLXBhcnRpY2lwYW50PSJVc2VyMiI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjQuOTA3IiB4PSI4NS45MDciIHk9IjExNS4yOTIiPiYjMTI1MTg7JiMxMjU0MDsmIzEyNDcwOyYjMTI1NDA7MjwvdGV4dD48ZWxsaXBzZSBjeD0iMTIxLjM2MDUiIGN5PSI1MC43OTY5IiBmaWxsPSIjRTJFMkYwIiByeD0iOCIgcnk9IjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0xMjEuMzYwNSw1OC43OTY5IEwxMjEuMzYwNSw4NS43OTY5IE0xMDguMzYwNSw2Ni43OTY5IEwxMzQuMzYwNSw2Ni43OTY5IE0xMjEuMzYwNSw4NS43OTY5IEwxMDguMzYwNSwxMDAuNzk2OSBNMTIxLjM2MDUsODUuNzk2OSBMMTM0LjM2MDUsMTAwLjc5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0iVXNlcjIiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY0LjkwNyIgeD0iODUuOTA3IiB5PSI2OTguMTEyMyI+JiMxMjUxODsmIzEyNTQwOyYjMTI0NzA7JiMxMjU0MDsyPC90ZXh0PjxlbGxpcHNlIGN4PSIxMjEuMzYwNSIgY3k9IjcwOS45MTQxIiBmaWxsPSIjRTJFMkYwIiByeD0iOCIgcnk9IjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0xMjEuMzYwNSw3MTcuOTE0MSBMMTIxLjM2MDUsNzQ0LjkxNDEgTTEwOC4zNjA1LDcyNS45MTQxIEwxMzQuMzYwNSw3MjUuOTE0MSBNMTIxLjM2MDUsNzQ0LjkxNDEgTDEwOC4zNjA1LDc1OS45MTQxIE0xMjEuMzYwNSw3NDQuOTE0MSBMMTM0LjM2MDUsNzU5LjkxNDEiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0iQWRkVGFnIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjkuMzk3NSIgeD0iMjE2LjI3NTUiIHk9IjExNS4yOTIiPk1lc3NhZ2UjYWRkX3RhZzwvdGV4dD48ZWxsaXBzZSBjeD0iMjgzLjk3NDIiIGN5PSI4Ni4yOTY5IiBmaWxsPSIjRTJFMkYwIiByeD0iMTIiIHJ5PSIxMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNzkuOTc0Miw3NC4yOTY5LDI4NS45NzQyLDY5LjI5NjksMjgzLjk3NDIsNzQuMjk2OSwyODUuOTc0Miw3OS4yOTY5LDI3OS45NzQyLDc0LjI5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtcGFydGljaXBhbnQ9IkFkZFRhZyI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI5LjM5NzUiIHg9IjIxNi4yNzU1IiB5PSI2OTguMTEyMyI+TWVzc2FnZSNhZGRfdGFnPC90ZXh0PjxlbGxpcHNlIGN4PSIyODMuOTc0MiIgY3k9IjcxNy40MTQxIiBmaWxsPSIjRTJFMkYwIiByeD0iMTIiIHJ5PSIxMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNzkuOTc0Miw3MDUuNDE0MSwyODUuOTc0Miw3MDAuNDE0MSwyODMuOTc0Miw3MDUuNDE0MSwyODUuOTc0Miw3MTAuNDE0MSwyNzkuOTc0Miw3MDUuNDE0MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0iSGFzaExvY2siPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY3LjQ0MzQiIHg9IjQ5NS43NTAxIiB5PSIxMTUuMjkyIj5IYXNoTG9jazwvdGV4dD48ZWxsaXBzZSBjeD0iNTMyLjQ3MTgiIGN5PSI4Ni4yOTY5IiBmaWxsPSIjRTJFMkYwIiByeD0iMTIiIHJ5PSIxMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNTIwLjQ3MTgiIHgyPSI1NDQuNDcxOCIgeTE9IjEwMC4yOTY5IiB5Mj0iMTAwLjI5NjkiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtcGFydGljaXBhbnQ9Ikhhc2hMb2NrIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ny40NDM0IiB4PSI0OTUuNzUwMSIgeT0iNjk4LjExMjMiPkhhc2hMb2NrPC90ZXh0PjxlbGxpcHNlIGN4PSI1MzIuNDcxOCIgY3k9IjcxNy40MTQxIiBmaWxsPSIjRTJFMkYwIiByeD0iMTIiIHJ5PSIxMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNTIwLjQ3MTgiIHgyPSI1NDQuNDcxOCIgeTE9IjczMS40MTQxIiB5Mj0iNzMxLjQxNDEiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9IlRhZyI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYuMDE3NiIgeD0iNTc5LjE5MzUiIHk9IjExNS4yOTIiPlRhZzwvdGV4dD48ZWxsaXBzZSBjeD0iNTk1LjIwMjMiIGN5PSI4Ni4yOTY5IiBmaWxsPSIjRTJFMkYwIiByeD0iMTIiIHJ5PSIxMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNTgzLjIwMjMiIHgyPSI2MDcuMjAyMyIgeTE9IjEwMC4yOTY5IiB5Mj0iMTAwLjI5NjkiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtcGFydGljaXBhbnQ9IlRhZyI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYuMDE3NiIgeD0iNTc5LjE5MzUiIHk9IjY5OC4xMTIzIj5UYWc8L3RleHQ+PGVsbGlwc2UgY3g9IjU5NS4yMDIzIiBjeT0iNzE3LjQxNDEiIGZpbGw9IiNFMkUyRjAiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI1ODMuMjAyMyIgeDI9IjYwNy4yMDIzIiB5MT0iNzMxLjQxNDEiIHkyPSI3MzEuNDE0MSIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0iTGluayI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE2LjA0NjkiIHg9IjYyMS4yMTExIiB5PSIxMTUuMjkyIj5NZXNzYWdlVGFnTGluazwvdGV4dD48ZWxsaXBzZSBjeD0iNjgyLjIzNDUiIGN5PSI4Ni4yOTY5IiBmaWxsPSIjRTJFMkYwIiByeD0iMTIiIHJ5PSIxMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNjcwLjIzNDUiIHgyPSI2OTQuMjM0NSIgeTE9IjEwMC4yOTY5IiB5Mj0iMTAwLjI5NjkiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtcGFydGljaXBhbnQ9IkxpbmsiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNi4wNDY5IiB4PSI2MjEuMjExMSIgeT0iNjk4LjExMjMiPk1lc3NhZ2VUYWdMaW5rPC90ZXh0PjxlbGxpcHNlIGN4PSI2ODIuMjM0NSIgY3k9IjcxNy40MTQxIiBmaWxsPSIjRTJFMkYwIiByeD0iMTIiIHJ5PSIxMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNjcwLjIzNDUiIHgyPSI2OTQuMjM0NSIgeTE9IjczMS40MTQxIiB5Mj0iNzMxLjQxNDEiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9IkRCIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ni44MDA4IiB4PSI3NTMuMjU3OSIgeT0iMTE1LjI5MiI+RGF0YWJhc2U8L3RleHQ+PHBhdGggZD0iTTc3MS42NTgzLDY2LjI5NjkgQzc3MS42NTgzLDU2LjI5NjkgNzg5LjY1ODMsNTYuMjk2OSA3ODkuNjU4Myw1Ni4yOTY5IEM3ODkuNjU4Myw1Ni4yOTY5IDgwNy42NTgzLDU2LjI5NjkgODA3LjY1ODMsNjYuMjk2OSBMODA3LjY1ODMsOTIuMjk2OSBDODA3LjY1ODMsMTAyLjI5NjkgNzg5LjY1ODMsMTAyLjI5NjkgNzg5LjY1ODMsMTAyLjI5NjkgQzc4OS42NTgzLDEwMi4yOTY5IDc3MS42NTgzLDEwMi4yOTY5IDc3MS42NTgzLDkyLjI5NjkgTDc3MS42NTgzLDY2LjI5NjkiIGZpbGw9IiNFMkUyRjAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik03NzEuNjU4Myw2Ni4yOTY5IEM3NzEuNjU4Myw3Ni4yOTY5IDc4OS42NTgzLDc2LjI5NjkgNzg5LjY1ODMsNzYuMjk2OSBDNzg5LjY1ODMsNzYuMjk2OSA4MDcuNjU4Myw3Ni4yOTY5IDgwNy42NTgzLDY2LjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0iREIiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY2LjgwMDgiIHg9Ijc1My4yNTc5IiB5PSI2OTguMTEyMyI+RGF0YWJhc2U8L3RleHQ+PHBhdGggZD0iTTc3MS42NTgzLDcxMS40MTQxIEM3NzEuNjU4Myw3MDEuNDE0MSA3ODkuNjU4Myw3MDEuNDE0MSA3ODkuNjU4Myw3MDEuNDE0MSBDNzg5LjY1ODMsNzAxLjQxNDEgODA3LjY1ODMsNzAxLjQxNDEgODA3LjY1ODMsNzExLjQxNDEgTDgwNy42NTgzLDczNy40MTQxIEM4MDcuNjU4Myw3NDcuNDE0MSA3ODkuNjU4Myw3NDcuNDE0MSA3ODkuNjU4Myw3NDcuNDE0MSBDNzg5LjY1ODMsNzQ3LjQxNDEgNzcxLjY1ODMsNzQ3LjQxNDEgNzcxLjY1ODMsNzM3LjQxNDEgTDc3MS42NTgzLDcxMS40MTQxIiBmaWxsPSIjRTJFMkYwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNzcxLjY1ODMsNzExLjQxNDEgQzc3MS42NTgzLDcyMS40MTQxIDc4OS42NTgzLDcyMS40MTQxIDc4OS42NTgzLDcyMS40MTQxIEM3ODkuNjU4Myw3MjEuNDE0MSA4MDcuNjU4Myw3MjEuNDE0MSA4MDcuNjU4Myw3MTEuNDE0MSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9IlVzZXIxIiBkYXRhLXBhcnRpY2lwYW50LTI9IkFkZFRhZyI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNzEuOTc0MiwxNDUuNzI2NiwyODEuOTc0MiwxNDkuNzI2NiwyNzEuOTc0MiwxNTMuNzI2NiwyNzUuOTc0MiwxNDkuNzI2NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0MC40NTM1IiB4Mj0iMjc3Ljk3NDIiIHkxPSIxNDkuNzI2NiIgeTI9IjE0OS43MjY2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM4LjYxMzgiIHg9IjQ3LjQ1MzUiIHk9IjE0NC42NjA2Ij5hZGRfdGFnKCJpbXBvcnRhbnQiKTwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iVXNlcjIiIGRhdGEtcGFydGljaXBhbnQtMj0iQWRkVGFnIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI3MS45NzQyLDE3NC44NTk0LDI4MS45NzQyLDE3OC44NTk0LDI3MS45NzQyLDE4Mi44NTk0LDI3NS45NzQyLDE3OC44NTk0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyMS4zNjA1IiB4Mj0iMjc3Ljk3NDIiIHkxPSIxNzguODU5NCIgeTI9IjE3OC44NTk0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM4LjYxMzgiIHg9IjEyOC4zNjA1IiB5PSIxNzMuNzkzNSI+YWRkX3RhZygiaW1wb3J0YW50Iik8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9IkFkZFRhZyIgZGF0YS1wYXJ0aWNpcGFudC0yPSJIYXNoTG9jayI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1MjAuNDcxOCwyMTQuNTU4Niw1MzAuNDcxOCwyMTguNTU4Niw1MjAuNDcxOCwyMjIuNTU4Niw1MjQuNDcxOCwyMTguNTU4NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyODMuOTc0MiIgeDI9IjUyNi40NzE4IiB5MT0iMjE4LjU1ODYiIHkyPSIyMTguNTU4NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyNC40OTc2IiB4PSIyOTAuOTc0MiIgeT0iMjEzLjQ5MjciPmFjcXVpcmUoJ3RhZ3MnLCAndmFsdWUnLCAnaW1wb3J0YW50Jyk8L3RleHQ+PC9nPjxwYXRoIGQ9Ik01MzcsMTkxLjg1OTQgTDUzNywyMzEuODU5NCBMNzgyLDIzMS44NTk0IEw3ODIsMjAxLjg1OTQgTDc3MiwxOTEuODU5NCBMNTM3LDE5MS44NTk0IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNzcyLDE5MS44NTk0IEw3NzIsMjAxLjg1OTQgTDc4MiwyMDEuODU5NCBMNzcyLDE5MS44NTk0IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTMuNzY4NyIgeD0iNTQzIiB5PSIyMDguOTI2MyI+TUQ1JiMxMjQ5NTsmIzEyNDgzOyYjMTI0NzE7JiMxMjUxNzsmIzEyMzk4OyYjMjA4MDg7JiMzODk1NzsyJiMyNTk5MTsmIzIzMzgzOyYjMTI0MzQ7JiMyMDM1MTsmIzI5OTkyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMjQuNTE2NiIgeD0iNTQzIiB5PSIyMjQuMDU5MSI+RGlnZXN0OjpNRDUuaGV4ZGlnZXN0KHZhbHVlKVswLDJdPC90ZXh0PjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9Ikhhc2hMb2NrIiBkYXRhLXBhcnRpY2lwYW50LTI9IkRCIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijc3Ny42NTgzLDI1Ny4yNTc4LDc4Ny42NTgzLDI2MS4yNTc4LDc3Ny42NTgzLDI2NS4yNTc4LDc4MS42NTgzLDI2MS4yNTc4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjUzMi40NzE4IiB4Mj0iNzgzLjY1ODMiIHkxPSIyNjEuMjU3OCIgeTI9IjI2MS4yNTc4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM2LjM2MDQiIHg9IjUzOS40NzE4IiB5PSIyNTYuMTkxOSI+U0VMRUNUIEZPUiBVUERBVEU8L3RleHQ+PC9nPjxwYXRoIGQ9Ik03OTQsMjQyLjEyNSBMNzk0LDI2Ny4xMjUgTDkzMiwyNjcuMTI1IEw5MzIsMjUyLjEyNSBMOTIyLDI0Mi4xMjUgTDc5NCwyNDIuMTI1IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNOTIyLDI0Mi4xMjUgTDkyMiwyNTIuMTI1IEw5MzIsMjUyLjEyNSBMOTIyLDI0Mi4xMjUiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNy4wMDAxIiB4PSI4MDAiIHk9IjI1OS4xOTE5Ij4mIzI1NDkwOyYjMjAxODI7JiMzMDM0MDsmIzEyNTI1OyYjMTI0ODM7JiMxMjQ2MzsmIzEyNDM0OyYjMjE0NjI7JiMyNDQ3MTs8L3RleHQ+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iREIiIGRhdGEtcGFydGljaXBhbnQtMj0iSGFzaExvY2siPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTQzLjQ3MTgsMjg5LjM5MDYsNTMzLjQ3MTgsMjkzLjM5MDYsNTQzLjQ3MTgsMjk3LjM5MDYsNTM5LjQ3MTgsMjkzLjM5MDYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iNTM3LjQ3MTgiIHgyPSI3ODguNjU4MyIgeTE9IjI5My4zOTA2IiB5Mj0iMjkzLjM5MDYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSI1NDkuNDcxOCIgeT0iMjg4LjMyNDciPiYjMTI1MjU7JiMxMjQ4MzsmIzEyNDYzOyYjMjE0NjI7JiMyNDQ3MTsmIzI1MTA0OyYjMjExNTE7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJIYXNoTG9jayIgZGF0YS1wYXJ0aWNpcGFudC0yPSJBZGRUYWciPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjk0Ljk3NDIsMzE4LjUyMzQsMjg0Ljk3NDIsMzIyLjUyMzQsMjk0Ljk3NDIsMzI2LjUyMzQsMjkwLjk3NDIsMzIyLjUyMzQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iMjg4Ljk3NDIiIHgyPSI1MzEuNDcxOCIgeTE9IjMyMi41MjM0IiB5Mj0iMzIyLjUyMzQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSIzMDAuOTc0MiIgeT0iMzE3LjQ1NzUiPiYjMTI1MjU7JiMxMjQ4MzsmIzEyNDYzOyYjMjE0NjI7JiMyNDQ3MTsmIzIzNDM2OyYjMjAxMDI7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJBZGRUYWciIGRhdGEtcGFydGljaXBhbnQtMj0iVGFnIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU4My4yMDIzLDM0Ny42NTYzLDU5My4yMDIzLDM1MS42NTYzLDU4My4yMDIzLDM1NS42NTYzLDU4Ny4yMDIzLDM1MS42NTYzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI4My45NzQyIiB4Mj0iNTg5LjIwMjMiIHkxPSIzNTEuNjU2MyIgeTI9IjM1MS42NTYzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTcyLjY2MjYiIHg9IjI5MC45NzQyIiB5PSIzNDYuNTkwMyI+ZmluZF9ieSh2YWx1ZTogJ2ltcG9ydGFudCcpPC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJUYWciIGRhdGEtcGFydGljaXBhbnQtMj0iQWRkVGFnIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI5NC45NzQyLDM3Ni43ODkxLDI4NC45NzQyLDM4MC43ODkxLDI5NC45NzQyLDM4NC43ODkxLDI5MC45NzQyLDM4MC43ODkxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6MiwyOyIgeDE9IjI4OC45NzQyIiB4Mj0iNTk0LjIwMjMiIHkxPSIzODAuNzg5MSIgeTI9IjM4MC43ODkxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTg4LjU5NTQiIHg9IjMwMC45NzQyIiB5PSIzNzUuNzIzMSI+JiMxMjQ3OTsmIzEyNDY0OyYjMTI0NTg7JiMxMjUwMjsmIzEyNDcyOyYjMTI0NTU7JiMxMjQ2MzsmIzEyNDg4OyYjNjUyODg7JiMxMjQxNDsmIzEyMzgzOyYjMTIzOTk7IG5pbCYjNjUyODk7PC90ZXh0PjwvZz48cGF0aCBkPSJNMjA2LjI3NTUsMzk1Ljc4OTEgTDI3MC43MTg0LDM5NS43ODkxIEwyNzAuNzE4NCw0MDIuOTIxOSBMMjYwLjcxODQsNDEyLjkyMTkgTDIwNi4yNzU1LDQxMi45MjE5IEwyMDYuMjc1NSwzOTUuNzg5MSIgZmlsbD0iI0VFRUVFRSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI3NS4zOTg0IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI2MjkuNzgzMiIgeD0iMjA2LjI3NTUiIHk9IjM5NS43ODkxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5LjQ0MjkiIHg9IjIyMS4yNzU1IiB5PSI0MDguODU2Ij5hbHQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMC4wNTM5IiB4PSIyODUuNzE4NCIgeT0iNDA3Ljk5OTUiPlsmIzEyNDc5OyYjMTI0NjQ7JiMxMjM2NDsmIzIzMzg0OyYjMjIzMTI7JiMxMjM3NTsmIzEyMzk0OyYjMTIzNTY7JiMyMjU4MDsmIzIxNTEyO108L3RleHQ+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iQWRkVGFnIiBkYXRhLXBhcnRpY2lwYW50LTI9IlRhZyI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1ODMuMjAyMyw0MzAuMDU0Nyw1OTMuMjAyMyw0MzQuMDU0Nyw1ODMuMjAyMyw0MzguMDU0Nyw1ODcuMjAyMyw0MzQuMDU0NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyODMuOTc0MiIgeDI9IjU4OS4yMDIzIiB5MT0iNDM0LjA1NDciIHkyPSI0MzQuMDU0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3Mi4zMDA4IiB4PSIyOTAuOTc0MiIgeT0iNDI4Ljk4ODgiPmNyZWF0ZSEodmFsdWU6ICdpbXBvcnRhbnQnKTwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iVGFnIiBkYXRhLXBhcnRpY2lwYW50LTI9IkRCIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijc3Ny42NTgzLDQ1OS4xODc1LDc4Ny42NTgzLDQ2My4xODc1LDc3Ny42NTgzLDQ2Ny4xODc1LDc4MS42NTgzLDQ2My4xODc1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU5NS4yMDIzIiB4Mj0iNzgzLjY1ODMiIHkxPSI0NjMuMTg3NSIgeTI9IjQ2My4xODc1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDYuOTk4IiB4PSI2MDIuMjAyMyIgeT0iNDU4LjEyMTYiPklOU0VSVDwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iQWRkVGFnIiBkYXRhLXBhcnRpY2lwYW50LTI9IkxpbmsiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjcwLjIzNDUsNDk1LjMyMDMsNjgwLjIzNDUsNDk5LjMyMDMsNjcwLjIzNDUsNTAzLjMyMDMsNjc0LjIzNDUsNDk5LjMyMDMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjgzLjk3NDIiIHgyPSI2NzYuMjM0NSIgeTE9IjQ5OS4zMjAzIiB5Mj0iNDk5LjMyMDMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMTEuNDczMSIgeD0iMjkwLjk3NDIiIHk9IjQ5NC4yNTQ0Ij5tZXNzYWdlX3RhZ19saW5rcy53aGVyZSh0YWdfaWQ6IHRhZy5pZCkuZXhpc3RzPzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iTGluayIgZGF0YS1wYXJ0aWNpcGFudC0yPSJBZGRUYWciPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjk0Ljk3NDIsNTI0LjQ1MzEsMjg0Ljk3NDIsNTI4LjQ1MzEsMjk0Ljk3NDIsNTMyLjQ1MzEsMjkwLjk3NDIsNTI4LjQ1MzEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iMjg4Ljk3NDIiIHgyPSI2ODEuMjM0NSIgeTE9IjUyOC40NTMxIiB5Mj0iNTI4LjQ1MzEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzAuMDAwMiIgeD0iMzAwLjk3NDIiIHk9IjUyMy4zODcyIj4mIzM4MzA2OyYjMzY4OTk7JiMyMDE4NDsmIzEyMzY5OyYjMTIzOTg7JiMyNjM3NzsmIzI4OTYxOyYjMTI0MzQ7JiMzMDkwNjsmIzM1NDY5OzwvdGV4dD48L2c+PHBhdGggZD0iTTIwNi4yNzU1LDU0My40NTMxIEwyNzAuNzE4NCw1NDMuNDUzMSBMMjcwLjcxODQsNTUwLjU4NTkgTDI2MC43MTg0LDU2MC41ODU5IEwyMDYuMjc1NSw1NjAuNTg1OSBMMjA2LjI3NTUsNTQzLjQ1MzEiIGZpbGw9IiNFRUVFRUUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNzUuMzk4NCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNjI5Ljc4MzIiIHg9IjIwNi4yNzU1IiB5PSI1NDMuNDUzMSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOS40NDI5IiB4PSIyMjEuMjc1NSIgeT0iNTU2LjUyIj5hbHQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0Mi4wNTM4IiB4PSIyODUuNzE4NCIgeT0iNTU1LjY2MzYiPlsmIzM4MzA2OyYjMzY4OTk7JiMyMDE4NDsmIzEyMzY5OyYjMTIzNjQ7JiMyMzM4NDsmIzIyMzEyOyYjMTIzNzU7JiMxMjM5NDsmIzEyMzU2OyYjMjI1ODA7JiMyMTUxMjtdPC90ZXh0PjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9IkFkZFRhZyIgZGF0YS1wYXJ0aWNpcGFudC0yPSJMaW5rIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjY3MC4yMzQ1LDU3Ny43MTg4LDY4MC4yMzQ1LDU4MS43MTg4LDY3MC4yMzQ1LDU4NS43MTg4LDY3NC4yMzQ1LDU4MS43MTg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI4My45NzQyIiB4Mj0iNjc2LjIzNDUiIHkxPSI1ODEuNzE4OCIgeTI9IjU4MS43MTg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjY5LjA0NTQiIHg9IjI5MC45NzQyIiB5PSI1NzYuNjUyOCI+bWVzc2FnZV90YWdfbGlua3MuY3JlYXRlISh0YWdfaWQ6IHRhZy5pZCk8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9IkxpbmsiIGRhdGEtcGFydGljaXBhbnQtMj0iREIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzc3LjY1ODMsNjA2Ljg1MTYsNzg3LjY1ODMsNjEwLjg1MTYsNzc3LjY1ODMsNjE0Ljg1MTYsNzgxLjY1ODMsNjEwLjg1MTYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjgyLjIzNDUiIHgyPSI3ODMuNjU4MyIgeTE9IjYxMC44NTE2IiB5Mj0iNjEwLjg1MTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ni45OTgiIHg9IjY4OS4yMzQ1IiB5PSI2MDUuNzg1NiI+SU5TRVJUPC90ZXh0PjwvZz48cGF0aCBkPSJNNyw2MzAuODUxNiBMNyw2NzAuODUxNiBMODIzLDY3MC44NTE2IEw4MjMsNjQwLjg1MTYgTDgxMyw2MzAuODUxNiBMNyw2MzAuODUxNiIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTgxMyw2MzAuODUxNiBMODEzLDY0MC44NTE2IEw4MjMsNjQwLjg1MTYgTDgxMyw2MzAuODUxNiIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjM0LjAwMDMiIHg9IjI1NC41MjkyIiB5PSI2NDcuOTE4NSI+JiMxMjQ4ODsmIzEyNTIxOyYjMTI1MzE7JiMxMjQ3MDsmIzEyNDYzOyYjMTI0NzE7JiMxMjUxOTsmIzEyNTMxOyYjMjA4Njk7JiMxMjM5MTsmIzIzNDU1OyYjMzQ4OTI7JiMxMjM3MzsmIzEyNDI4OyYjMTI0Mjc7JiMxMjM4MzsmIzEyNDE3OyYjMTIyODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMxMi4wMDAzIiB4PSIyNTQuNTI5MiIgeT0iNjYzLjA1MTMiPiYjMjA4NDA7JiMxMjM5MDsmIzEyMzk4OyYjMjA5NjY7JiMyOTcwMjsmIzEyMzY0OyYjMjUxMDQ7JiMyMTE1MTsmIzEyMzc3OyYjMTI0Mjc7JiMxMjM2MzsmIzEyMjg5OyYjMjA4NDA7JiMxMjM5MDsmIzIyODMzOyYjMjU5NDM7JiMxMjM3NzsmIzEyNDI3OyYjMTIzNjM7JiMxMjM5ODsmIzEyMzkzOyYjMTIzODU7JiMxMjQyNTsmIzEyMzYzOzwvdGV4dD48IS0tU1JDPVtYTEhSSm5EMTU3d1ZOcDdNWHo4NDZjZFlvcHZlbURQZTBjZ1dGQWFYSXRUaUR2UWp4V3VBUnltRWJvOUxhNFlCWGdJMG9pcUtEMWVxTjdfQ3dSSm1uNXptUGhVakJNZnVzUHFwdnBqcGxkRmNFcUREY1lPT3QxRG1sdk9GYmUyemhNbUxKX2FIaTFyV0hOMlBONUpVQjlHRnlZQXg5dXZOV1EtMi1tTnVCQlp4bTVTR3FYQ3FPLUMweTdOV1gtM2tvTXpkMEVpRTdkMjh0VmFsVHdKWFpnMTRuZzlzOWVxM2xTSG56Mkl2Z1hsNjhETUo3Z0pCQ0U5dzRYNkJjZEdDMS14ZUpnZWRhdFpnLVVmNm1ua2wxSkw3cjB3TE1wc2N2U1VmMUo5cWdXX2YzaTYxUTZ0Yi1RQlQyN2NpU1NVRE1kOERybVlyMVNwWFBuY1J3WE9EWDNuS3Y1OEt5aHFBTHdTaGFPZGQ4d1BEc2U4SXhXSlJTVjI1ZFh1WFFqNDgzT1FHYlE0NHNzT29ISk5TNnhxRVYwdXUxX1NkeUNfb0dpSGF6Y29iNUFkYWZxTWYwRXYyLVVZYS1jeHBhSEtyYXlJWGNZT1ptWWFvUWRYY2N2U1d6RjFRVS1HbkdkS1lZYklxTXlGemlQeE9oSlktVlJ5RjNwbzhUaUxaQlFkemN3ei1jMDFVeVdaaW9jbllCWS1FMm1YNWt0NTdJc2FEYTgtZVBFVjVnczlKbmdQLU5PMkFkTG52Vndndk9IeGdZTWFQV3FEWlZXTFFRdVN5TkZFOWRlSjF0R1FVMV9TTmsxa0FCUy1VN3NRMTdJaWppcnJpY1VkcG1uYWZzWklqMXgyU0Eyczl2S3JXMU0zUm0yUjRvV3luZHhyODlNNEpkUDhoX3dWWWpfRmtsVnZPTnJtQXE2V2tIZWJFbXlFLTZmTEUxakRvbm1jX0oxNmYxNk1SWGVSYkZzbVFlSjBQREh0Z3Q0R2dnZ040aV9wUXNWWDdWcWhMTTJ4RkwyVmFEMnZLcl9QRmpyX3hMUkxZQmd0alZ5cGd2THhXTGtGcVR3c1VRRkk0ZE40Uzk5aUVWMGx1VHBOa0laNUlqSGxJNTVFSm0zUjRKbDVxREdUaTRUbVNrQkVySHNRUzhKNGZVUXVoVEstbEwtVWQ5N2JWR0MzVVV4WFAyVjhudWpFdG9jQlhweHZ3Z2hRMG9MUkNJNUNIbWVoRlJtMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_28">変更内容<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 6d6f908f7f88e6f6e55b268126497b0c5558365b
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Mar 27 17:37:42 2017 +0900

<span class="w"> </span>   排他制御のための専用テーブルを作る #21

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index d9c1c78..267bd7f 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -785,6 +785,9 @@ git push heroku master</span>
<span class="w"> </span>+ staff/messagesコントローラ

<span class="w"> </span>#### 一意制約と排他的ロック
<span class="gi">++ 問題の所在</span>
<span class="gi">++ 排他制御のための専用テーブルを作る</span>
<span class="gi">+</span>
<span class="w"> </span>#### 演習問題  

<span class="w"> </span>**[⬆ back to top](#構成)**
<span class="gh">diff --git a/app/models/hash_lock.rb b/app/models/hash_lock.rb</span>
new file mode 100644
<span class="gh">index 0000000..432a9c5</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/models/hash_lock.rb</span>
<span class="gu">@@ -0,0 +1,26 @@</span>
<span class="gi">+# == Schema Information</span>
<span class="gi">+#</span>
<span class="gi">+# Table name: hash_locks # 排他制御</span>
<span class="gi">+#</span>
<span class="gi">+#  id         :integer          not null, primary key</span>
<span class="gi">+#  table      :string(255)      not null              # テーブル</span>
<span class="gi">+#  column     :string(255)      not null              # カラム</span>
<span class="gi">+#  key        :string(255)      not null              # キー</span>
<span class="gi">+#  created_at :datetime         not null</span>
<span class="gi">+#  updated_at :datetime         not null</span>
<span class="gi">+#</span>
<span class="gi">+# Indexes</span>
<span class="gi">+#</span>
<span class="gi">+#  index_hash_locks_on_table_and_column_and_key  (table,column,key) UNIQUE</span>
<span class="gi">+#</span>
<span class="gi">+</span>
<span class="gi">+class HashLock &lt; ApplicationRecord</span>
<span class="gi">+  class &lt;&lt; self</span>
<span class="gi">+    def acquire(table, column, value)</span>
<span class="gi">+      HashLock.where(table: table,</span>
<span class="gi">+                     column: column,</span>
<span class="gi">+                     key: Digest::MD5.hexdigest(value)[0,2]</span>
<span class="gi">+      ).lock(true).first!</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
<span class="gh">diff --git a/app/models/message.rb b/app/models/message.rb</span>
<span class="gh">index 723f9f9..3364e95 100644</span>
<span class="gd">--- a/app/models/message.rb</span>
<span class="gi">+++ b/app/models/message.rb</span>
<span class="gu">@@ -69,6 +69,7 @@ class Message &lt; ApplicationRecord</span>

<span class="w"> </span>  def add_tag(label)
<span class="w"> </span>    self.class.transaction do
<span class="gi">+      HashLock.acquire(&#39;tags&#39;,&#39;value&#39;,label)</span>
<span class="w"> </span>      tag = Tag.find_by(value: label)
<span class="w"> </span>      tag ||= Tag.create!(value: label)
<span class="w"> </span>      unless message_tag_links.where(tag_id: tag.id).exists?
<span class="gu">@@ -79,6 +80,7 @@ class Message &lt; ApplicationRecord</span>

<span class="w"> </span>  def remove_tag(label)
<span class="w"> </span>    self.class.transaction do
<span class="gi">+      HashLock.acquire(&#39;tags&#39;,&#39;value&#39;,label)</span>
<span class="w"> </span>      if tag = Tag.find_by(value: label)
<span class="w"> </span>        message_tag_links.find_by(tag_id: tag.id).destroy
<span class="w"> </span>        if tag.message_tag_links.empty?
<span class="gh">diff --git a/db/migrate/20170327081649_create_hash_locks.rb b/db/migrate/20170327081649_create_hash_locks.rb</span>
new file mode 100644
<span class="gh">index 0000000..a3e5e56</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/db/migrate/20170327081649_create_hash_locks.rb</span>
<span class="gu">@@ -0,0 +1,12 @@</span>
<span class="gi">+class CreateHashLocks &lt; ActiveRecord::Migration[5.0]</span>
<span class="gi">+  def change</span>
<span class="gi">+    create_table :hash_locks, comment:&#39;排他制御&#39; do |t|</span>
<span class="gi">+      t.string :table, null: false, comment: &#39;テーブル&#39;</span>
<span class="gi">+      t.string :column, null: false, comment: &#39;カラム&#39;</span>
<span class="gi">+      t.string :key, null: false, comment: &#39;キー&#39;</span>
<span class="gi">+      t.timestamps</span>
<span class="gi">+    end</span>
<span class="gi">+</span>
<span class="gi">+    add_index :hash_locks, [ :table, :column, :key ], unique: true</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
<span class="gh">diff --git a/db/schema.rb b/db/schema.rb</span>
<span class="gh">index 0154c4b..27f7a1c 100644</span>
<span class="gd">--- a/db/schema.rb</span>
<span class="gi">+++ b/db/schema.rb</span>
<span class="gu">@@ -10,9 +10,9 @@</span>
<span class="w"> </span>#
<span class="w"> </span># It&#39;s strongly recommended that you check this file into your version control system.

<span class="gd">-ActiveRecord::Schema.define(version: 20170325081203) do</span>
<span class="gi">+ActiveRecord::Schema.define(version: 20170327081649) do</span>

<span class="gd">-  create_table &quot;addresses&quot;, force: :cascade, comment: &quot;住所&quot; do |t|</span>
<span class="gi">+  create_table &quot;addresses&quot;, force: :cascade, options: &quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&quot;, comment: &quot;住所&quot; do |t|</span>
<span class="w"> </span>    t.integer  &quot;customer_id&quot;,                null: false, comment: &quot;顧客への外部キー&quot;
<span class="w"> </span>    t.string   &quot;type&quot;,                       null: false, comment: &quot;継承カラム&quot;
<span class="w"> </span>    t.string   &quot;postal_code&quot;,                null: false, comment: &quot;郵便番号&quot;
<span class="gu">@@ -33,7 +33,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do</span>
<span class="w"> </span>    t.index [&quot;type&quot;, &quot;prefecture&quot;, &quot;city&quot;], name: &quot;index_addresses_on_type_and_prefecture_and_city&quot;, using: :btree
<span class="w"> </span>  end

<span class="gd">-  create_table &quot;administrators&quot;, force: :cascade, comment: &quot;管理者&quot; do |t|</span>
<span class="gi">+  create_table &quot;administrators&quot;, force: :cascade, options: &quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&quot;, comment: &quot;管理者&quot; do |t|</span>
<span class="w"> </span>    t.string   &quot;email&quot;,                           null: false, comment: &quot;メールアドレス&quot;
<span class="w"> </span>    t.string   &quot;email_for_index&quot;,                 null: false, comment: &quot;索引用メールアドレス&quot;
<span class="w"> </span>    t.string   &quot;hashed_password&quot;,                              comment: &quot;パスワード&quot;
<span class="gu">@@ -43,7 +43,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do</span>
<span class="w"> </span>    t.index [&quot;email_for_index&quot;], name: &quot;index_administrators_on_email_for_index&quot;, unique: true, using: :btree
<span class="w"> </span>  end

<span class="gd">-  create_table &quot;allowed_sources&quot;, force: :cascade, comment: &quot;IPアドレス制限&quot; do |t|</span>
<span class="gi">+  create_table &quot;allowed_sources&quot;, force: :cascade, options: &quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&quot;, comment: &quot;IPアドレス制限&quot; do |t|</span>
<span class="w"> </span>    t.string   &quot;namespace&quot;,                  null: false, comment: &quot;名前空間&quot;
<span class="w"> </span>    t.integer  &quot;octet1&quot;,                     null: false, comment: &quot;第１オクテット&quot;
<span class="w"> </span>    t.integer  &quot;octet2&quot;,                     null: false, comment: &quot;第２オクテット&quot;
<span class="gu">@@ -55,7 +55,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do</span>
<span class="w"> </span>    t.index [&quot;namespace&quot;, &quot;octet1&quot;, &quot;octet2&quot;, &quot;octet3&quot;, &quot;octet4&quot;], name: &quot;index_allowed_sources_on_namespace_and_octets&quot;, unique: true, using: :btree
<span class="w"> </span>  end

<span class="gd">-  create_table &quot;customers&quot;, force: :cascade, comment: &quot;顧客&quot; do |t|</span>
<span class="gi">+  create_table &quot;customers&quot;, force: :cascade, options: &quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&quot;, comment: &quot;顧客&quot; do |t|</span>
<span class="w"> </span>    t.string   &quot;email&quot;,            null: false, comment: &quot;メールアドレス&quot;
<span class="w"> </span>    t.string   &quot;email_for_index&quot;,  null: false, comment: &quot;顧客用メールアドレス&quot;
<span class="w"> </span>    t.string   &quot;family_name&quot;,      null: false, comment: &quot;姓&quot;
<span class="gu">@@ -84,7 +84,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do</span>
<span class="w"> </span>    t.index [&quot;given_name_kana&quot;], name: &quot;index_customers_on_given_name_kana&quot;, using: :btree
<span class="w"> </span>  end

<span class="gd">-  create_table &quot;entries&quot;, force: :cascade, comment: &quot;申し込み&quot; do |t|</span>
<span class="gi">+  create_table &quot;entries&quot;, force: :cascade, options: &quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&quot;, comment: &quot;申し込み&quot; do |t|</span>
<span class="w"> </span>    t.integer  &quot;program_id&quot;,                  null: false
<span class="w"> </span>    t.integer  &quot;customer_id&quot;,                 null: false
<span class="w"> </span>    t.boolean  &quot;approved&quot;,    default: false, null: false, comment: &quot;承認済みフラグ&quot;
<span class="gu">@@ -96,7 +96,16 @@ ActiveRecord::Schema.define(version: 20170325081203) do</span>
<span class="w"> </span>    t.index [&quot;program_id&quot;], name: &quot;index_entries_on_program_id&quot;, using: :btree
<span class="w"> </span>  end

<span class="gd">-  create_table &quot;message_tag_links&quot;, force: :cascade, comment: &quot;タグリンクテーブル&quot; do |t|</span>
<span class="gi">+  create_table &quot;hash_locks&quot;, force: :cascade, options: &quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&quot;, comment: &quot;排他制御&quot; do |t|</span>
<span class="gi">+    t.string   &quot;table&quot;,      null: false, comment: &quot;テーブル&quot;</span>
<span class="gi">+    t.string   &quot;column&quot;,     null: false, comment: &quot;カラム&quot;</span>
<span class="gi">+    t.string   &quot;key&quot;,        null: false, comment: &quot;キー&quot;</span>
<span class="gi">+    t.datetime &quot;created_at&quot;, null: false</span>
<span class="gi">+    t.datetime &quot;updated_at&quot;, null: false</span>
<span class="gi">+    t.index [&quot;table&quot;, &quot;column&quot;, &quot;key&quot;], name: &quot;index_hash_locks_on_table_and_column_and_key&quot;, unique: true, using: :btree</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  create_table &quot;message_tag_links&quot;, force: :cascade, options: &quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&quot;, comment: &quot;タグリンクテーブル&quot; do |t|</span>
<span class="w"> </span>    t.integer &quot;message_id&quot;, null: false
<span class="w"> </span>    t.integer &quot;tag_id&quot;,     null: false
<span class="w"> </span>    t.index [&quot;message_id&quot;, &quot;tag_id&quot;], name: &quot;index_message_tag_links_on_message_id_and_tag_id&quot;, unique: true, using: :btree
<span class="gu">@@ -104,7 +113,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do</span>
<span class="w"> </span>    t.index [&quot;tag_id&quot;], name: &quot;index_message_tag_links_on_tag_id&quot;, using: :btree
<span class="w"> </span>  end

<span class="gd">-  create_table &quot;messages&quot;, force: :cascade, comment: &quot;問い合わせ&quot; do |t|</span>
<span class="gi">+  create_table &quot;messages&quot;, force: :cascade, options: &quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&quot;, comment: &quot;問い合わせ&quot; do |t|</span>
<span class="w"> </span>    t.integer  &quot;customer_id&quot;,                                   null: false
<span class="w"> </span>    t.integer  &quot;staff_member_id&quot;
<span class="w"> </span>    t.integer  &quot;root_id&quot;,                                                    comment: &quot;Messageへの外部キー&quot;
<span class="gu">@@ -129,7 +138,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do</span>
<span class="w"> </span>    t.index [&quot;type&quot;, &quot;staff_member_id&quot;], name: &quot;index_messages_on_type_and_staff_member_id&quot;, using: :btree
<span class="w"> </span>  end

<span class="gd">-  create_table &quot;phones&quot;, force: :cascade, comment: &quot;電話&quot; do |t|</span>
<span class="gi">+  create_table &quot;phones&quot;, force: :cascade, options: &quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&quot;, comment: &quot;電話&quot; do |t|</span>
<span class="w"> </span>    t.integer  &quot;customer_id&quot;,                      null: false, comment: &quot;顧客への外部キー&quot;
<span class="w"> </span>    t.integer  &quot;address_id&quot;,                                    comment: &quot;住所への外部キー&quot;
<span class="w"> </span>    t.string   &quot;number&quot;,                           null: false, comment: &quot;電話番号&quot;
<span class="gu">@@ -144,7 +153,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do</span>
<span class="w"> </span>    t.index [&quot;number_for_index&quot;], name: &quot;index_phones_on_number_for_index&quot;, using: :btree
<span class="w"> </span>  end

<span class="gd">-  create_table &quot;programs&quot;, force: :cascade, comment: &quot;プログラム&quot; do |t|</span>
<span class="gi">+  create_table &quot;programs&quot;, force: :cascade, options: &quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&quot;, comment: &quot;プログラム&quot; do |t|</span>
<span class="w"> </span>    t.integer  &quot;registrant_id&quot;,                            null: false, comment: &quot;登録職員（外部キー）&quot;
<span class="w"> </span>    t.string   &quot;title&quot;,                                    null: false, comment: &quot;タイトル&quot;
<span class="w"> </span>    t.text     &quot;description&quot;,                limit: 65535,              comment: &quot;説明&quot;
<span class="gu">@@ -158,7 +167,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do</span>
<span class="w"> </span>    t.index [&quot;registrant_id&quot;], name: &quot;index_programs_on_registrant_id&quot;, using: :btree
<span class="w"> </span>  end

<span class="gd">-  create_table &quot;staff_events&quot;, force: :cascade, comment: &quot;職員イベント&quot; do |t|</span>
<span class="gi">+  create_table &quot;staff_events&quot;, force: :cascade, options: &quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&quot;, comment: &quot;職員イベント&quot; do |t|</span>
<span class="w"> </span>    t.integer  &quot;staff_member_id&quot;, null: false, comment: &quot;職員レコードへの外部キー&quot;
<span class="w"> </span>    t.string   &quot;type&quot;,            null: false, comment: &quot;イベントタイプ&quot;
<span class="w"> </span>    t.datetime &quot;created_at&quot;,      null: false, comment: &quot;発生時刻&quot;
<span class="gu">@@ -167,7 +176,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do</span>
<span class="w"> </span>    t.index [&quot;staff_member_id&quot;], name: &quot;index_staff_events_on_staff_member_id&quot;, using: :btree
<span class="w"> </span>  end

<span class="gd">-  create_table &quot;staff_members&quot;, force: :cascade, comment: &quot;職員&quot; do |t|</span>
<span class="gi">+  create_table &quot;staff_members&quot;, force: :cascade, options: &quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&quot;, comment: &quot;職員&quot; do |t|</span>
<span class="w"> </span>    t.string   &quot;email&quot;,                            null: false, comment: &quot;メールアドレス&quot;
<span class="w"> </span>    t.string   &quot;email_for_index&quot;,                  null: false, comment: &quot;索引用メールアドレス&quot;
<span class="w"> </span>    t.string   &quot;family_name&quot;,                      null: false, comment: &quot;姓&quot;
<span class="gu">@@ -184,7 +193,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do</span>
<span class="w"> </span>    t.index [&quot;family_name_kana&quot;, &quot;given_name_kana&quot;], name: &quot;index_staff_members_on_family_name_kana_and_given_name_kana&quot;, using: :btree
<span class="w"> </span>  end

<span class="gd">-  create_table &quot;tags&quot;, force: :cascade, comment: &quot;タグ&quot; do |t|</span>
<span class="gi">+  create_table &quot;tags&quot;, force: :cascade, options: &quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&quot;, comment: &quot;タグ&quot; do |t|</span>
<span class="w"> </span>    t.string   &quot;value&quot;,      null: false
<span class="w"> </span>    t.datetime &quot;created_at&quot;, null: false
<span class="w"> </span>    t.datetime &quot;updated_at&quot;, null: false
<span class="gh">diff --git a/db/seed/hash_locks.rb b/db/seed/hash_locks.rb</span>
new file mode 100644
<span class="gh">index 0000000..788a86b</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/db/seed/hash_locks.rb</span>
<span class="gu">@@ -0,0 +1,3 @@</span>
<span class="gi">+256.times do |i|</span>
<span class="gi">+  HashLock.create!(table: &#39;tags&#39;, column: &#39;value&#39;, key: sprintf(&#39;%02x&#39;,i))</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/db/seeds.rb b/db/seeds.rb</span>
<span class="gh">index beeaf0f..51e0dc6 100644</span>
<span class="gd">--- a/db/seeds.rb</span>
<span class="gi">+++ b/db/seeds.rb</span>
<span class="gu">@@ -6,6 +6,15 @@</span>

<span class="w"> </span>#   movies = Movie.create([{ name: &#39;Star Wars&#39; }, { name: &#39;Lord of the Rings&#39; }])
<span class="w"> </span>#   Character.create(name: &#39;Luke&#39;, movie: movies.first)
<span class="gi">+common_table_names = %w(hash_locks)</span>
<span class="gi">+common_table_names.each do |table_name|</span>
<span class="gi">+  path = Rails.root.join(&#39;db&#39;, &#39;seeds&#39;, &quot;#{table_name}.rb&quot;)</span>
<span class="gi">+  if File.exist?(path)</span>
<span class="gi">+    puts &quot;Creating #{table_name}....&quot;</span>
<span class="gi">+    require(path)</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
<span class="gi">+</span>
<span class="w"> </span>table_names = %w(staff_members administrators staff_events customers allowed_sources programs entries messages)
<span class="w"> </span>table_names.each do |table_name|
<span class="w"> </span>  path = Rails.root.join(&#39;db&#39;,&#39;seed&#39;,Rails.env, &quot;#{table_name}.rb&quot;)
<span class="gh">diff --git a/spec/factories/hash_locks.rb b/spec/factories/hash_locks.rb</span>
new file mode 100644
<span class="gh">index 0000000..3300220</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/spec/factories/hash_locks.rb</span>
<span class="gu">@@ -0,0 +1,21 @@</span>
<span class="gi">+# == Schema Information</span>
<span class="gi">+#</span>
<span class="gi">+# Table name: hash_locks # 排他制御</span>
<span class="gi">+#</span>
<span class="gi">+#  id         :integer          not null, primary key</span>
<span class="gi">+#  table      :string(255)      not null              # テーブル</span>
<span class="gi">+#  column     :string(255)      not null              # カラム</span>
<span class="gi">+#  key        :string(255)      not null              # キー</span>
<span class="gi">+#  created_at :datetime         not null</span>
<span class="gi">+#  updated_at :datetime         not null</span>
<span class="gi">+#</span>
<span class="gi">+# Indexes</span>
<span class="gi">+#</span>
<span class="gi">+#  index_hash_locks_on_table_and_column_and_key  (table,column,key) UNIQUE</span>
<span class="gi">+#</span>
<span class="gi">+</span>
<span class="gi">+FactoryGirl.define do</span>
<span class="gi">+  factory :hash_lock do</span>
<span class="gi">+    </span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
<span class="gh">diff --git a/spec/models/hash_lock_spec.rb b/spec/models/hash_lock_spec.rb</span>
new file mode 100644
<span class="gh">index 0000000..89576ad</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/spec/models/hash_lock_spec.rb</span>
<span class="gu">@@ -0,0 +1,21 @@</span>
<span class="gi">+# == Schema Information</span>
<span class="gi">+#</span>
<span class="gi">+# Table name: hash_locks # 排他制御</span>
<span class="gi">+#</span>
<span class="gi">+#  id         :integer          not null, primary key</span>
<span class="gi">+#  table      :string(255)      not null              # テーブル</span>
<span class="gi">+#  column     :string(255)      not null              # カラム</span>
<span class="gi">+#  key        :string(255)      not null              # キー</span>
<span class="gi">+#  created_at :datetime         not null</span>
<span class="gi">+#  updated_at :datetime         not null</span>
<span class="gi">+#</span>
<span class="gi">+# Indexes</span>
<span class="gi">+#</span>
<span class="gi">+#  index_hash_locks_on_table_and_column_and_key  (table,column,key) UNIQUE</span>
<span class="gi">+#</span>
<span class="gi">+</span>
<span class="gi">+require &#39;rails_helper&#39;</span>
<span class="gi">+</span>
<span class="gi">+RSpec.describe HashLock, type: :model do</span>
<span class="gi">+  pending &quot;add some examples to (or delete) #{__FILE__}&quot;</span>
<span class="gi">+end</span>
</code></pre></div>
<h3 id="_29">構造変更<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/baukis-kai" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>