# 作業履歴 2017-02-20

## 概要

2017-02-20の作業内容をまとめています。

## コミット: 5bf3ad4

### メッセージ

```
Jenkins BuildPipeline対応
```

### 変更されたファイル

- A	Jenkinsfile

### 変更内容

```diff
commit 5bf3ad49e159213652ad85b884564aa7d38a3588
Author: k2works <kakimomokuri@gmail.com>
Date:   Mon Feb 20 18:19:42 2017 +0900

    Jenkins BuildPipeline対応

diff --git a/Jenkinsfile b/Jenkinsfile
new file mode 100644
index 0000000..098e206
--- /dev/null
+++ b/Jenkinsfile
@@ -0,0 +1,24 @@
+node('master') {
+
+  stage 'Checkout'
+  git url: 'https://github.com/k2works/baukis-kai.git'
+
+  stage 'Prepare'
+  env.PATH = '/usr/local/bin:$HOME/.rbenv/shims:$HOME/.rbenv/bin:$PATH'
+  sh 'eval "$(rbenv init -)"'
+  sh 'rbenv local 2.4.0'
+
+  stage 'Prepare test'
+  sh "bundle install"
+  sh "bundle exec rake db:migrate"
+  sh "bundle exec rake db:test:prepare"
+
+  stage "Unit test"
+  sh "bundle exec rspec spec/controllers/*_spec.rb"
+  sh "bundle exec rspec spec/models/*_spec.rb"
+  sh "bundle exec rspec spec/routing/*_spec.rb"
+  sh "bundle exec rspec spec/services/*_spec.rb"
+
+  stage "Integration test"
+  sh "bundle exec rspec spec/features/*_spec.rb"
+}

```

